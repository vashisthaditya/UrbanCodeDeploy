<!--
- Licensed Materials - Property of IBM* and/or HCL**
- UrbanCode Deploy
- (c) Copyright IBM Corporation 2011, 2017. All Rights Reserved.
- (c) Copyright HCL Technologies Ltd. 2018. All Rights Reserved.
-
- U.S. Government Users Restricted Rights - Use, duplication or disclosure restricted by
- GSA ADP Schedule Contract with IBM Corp.
-
- * Trademark of International Business Machines
- ** Trademark of HCL Technologies Limited
-->
<div class="masterContainer">
  <div class="innerContainer">
    <div id="applicationComponents">
      <div class="listTopButtons" id="buttonTopAttach"></div>
      <div id="applicationComponentsAttach"></div>
    </div>
  </div>
</div>

<script type="text/javascript">
    /* <![CDATA[ */
    require([
        "deploy/widgets/application/ApplicationComponents",
        "deploy/widgets/application/SingleComponentSelector",
        "dijit/form/Button"
        ],
    function(
        ApplicationComponents,
        SingleComponentSelector,
        Button
    ) {
        if (appState.application.security["Manage Components"]) {
            var singleComponentButton = new Button({
                label: i18n("Add Component"),
                showTitle: false,
                onClick: function() {
                    var selector = new SingleComponentSelector({
                        callback: function() {
                            applicationComponents.grid.refresh();
                        }
                    });
                },
                baseClass: "dijit dijitReset dijitInline dijitButton idxButtonSpecial"
            });
            singleComponentButton.placeAt("buttonTopAttach");
        }
        var applicationComponents = new ApplicationComponents({});
        applicationComponents.placeAt("applicationComponentsAttach");
    });
    /* ]]> */
</script>
