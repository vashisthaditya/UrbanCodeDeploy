//>>built
require({cache:{"url:idx/app/templates/LoginFrame.html":'<div class="${baseClass}">\r\n    <div class="${baseClass}BoxWithShadow">\r\n      <div class="${baseClass}Box">\r\n\r\n       <div class="${baseClass}BoxInner">\r\n   \r\n          <div data-dojo-attach-point="loginTitleNode" class="${baseClass}Title">${loginTitle}</div>\r\n          \r\n          <iframe data-dojo-attach-point="_hiddenFrame"\r\n          \t\t  style="visibility: hidden; display: none, width: 0px; height: 0px" name="SubmitFrame${id}"></iframe>\r\n          \r\n          <form data-dojo-type="dijit/form/Form"\r\n          \t\tdata-dojo-attach-point="_form" \r\n          \t\tdata-dojo-attach-event="onSubmit:_onFormSubmit"\r\n          \t\tdata-dojo-props="autocomplete:\'on\',method:\'post\',name:\'${formName}\',action:\'${formAction}\',target:\'SubmitFrame${id}\'">\r\n          \t\r\n            <div data-dojo-attach-point="loginSubtitleNode" class="${baseClass}SubTitle">${loginSubTitle}</div>\r\n\r\n            <input data-dojo-attach-point="loginUserName" type="text" data-dojo-type="idx/form/TextBox" \r\n            \t   data-dojo-props="name:\'${userFieldName}\', required: true, value:\'\', intermediateChanges: true, autocomplete: \'on\',\r\n            \t   \t\t\t\t\tlabel: \'${labelUserName}${labelSeparator}\', labelAlignment: \'vertical\', instantValidate: true,\r\n            \t   \t\t\t\t\tmissingMessage: \'${invalidMessage}\', invalidMessage: \'${invalidMessage}\', regExp:\'${regExp}\'"\r\n            \t   \t></input><br>\r\n            \r\n            <input type="password" data-dojo-type="idx/form/TextBox" data-dojo-attach-point="loginPassword" \r\n            \t   data-dojo-props="id:\'${id}Password\', name:\'${passwordFieldName}\', required:\'true\', intermediateChanges: true, autocomplete: \'on\',\r\n            \t   \t\t\t\t\tlabel: \'${labelPassword}${labelSeparator}\', labelAlignment: \'vertical\', instantValidate: true,\r\n            \t   \t\t\t\t\tvalue:\'\', \'class\': \'${baseClass}Field\', missingMessage:\'${invalidMessage}\', invalidMessage:\'${invalidMessage}\', regExp:\'${regExp}\'"\r\n            \t   \t></input>\r\n\t\t\t<div data-dojo-attach-point="containerNode"></div>\r\n\r\n            <div data-dojo-attach-point="inactivityMessageNode" class="idxLoginFrameInactivityMessage">${inactivityMessage}</div>\r\n            \r\n\r\n            <div class="${baseClass}ButtonBar">\r\n              <button data-dojo-type="dijit.form.Button" data-dojo-attach-point="loginButton" data-dojo-attach-event="onClick:_onSubmitClick"\r\n              \t\t  data-dojo-props="name:\'login\'">${labelSubmitButton}</button>\r\n              <button data-dojo-type="dijit.form.Button" data-dojo-attach-point="cancelButton" data-dojo-attach-event="onClick:_onCancelClick"\r\n              \t\t  data-dojo-props="name:\'cancel\', \'style\':\'visibility:hidden;display:none;\'">${labelCancelButton}</button>\r\n            </div>\r\n          </form>\r\n            \r\n          <div data-dojo-attach-point="copyrightNode" class="${baseClass}Copyright">${loginCopyright}</div>\r\n\r\n       </div>\r\n       \r\n      </div>\r\n      <div class="${baseClass}ShadowTop"><div class="${baseClass}ShadowInner"></div></div>\r\n      <div class="${baseClass}ShadowMiddle"><div class="${baseClass}ShadowInner"></div></div>\r\n      <div class="${baseClass}ShadowBottom"><div class="${baseClass}ShadowInner"></div></div>\r\n    </div>\r\n    \r\n\t<div data-dojo-attach-point="invalidLoginDialog" data-dojo-type="dijit/Dialog" data-dojo-props="title:\'${invalidMessageTitle}\', \'style\':\'display:none;\'">\r\n\t\t<div class="dijitDialogPaneContentArea" style="width: 350px; height: 90px; overflow: auto;">\r\n\t\t\t<table role="presentation">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td><div class="idxDialogIconError" /></td>\r\n\t\t\t\t\t<td><span data-dojo-attach-point="invalidMessageNode" class=\'idxDialogIconText\'>${invalidMessage}</span></td>\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\t\t\r\n\t\t</div>\t\t\t\r\n\t\t<div class="dijitDialogPaneActionBar">\r\n\t\t\t<button data-dojo-attach-point="dialogOKButton" data-dojo-type="dijit/form/Button" data-dojo-props="type: \'submit\', label: \'${labelOkButton}\'" ></button>\t\r\n\t\t</div>\r\n\t</div>\r\n\t\r\n</div>\r\n'}});
define("idx/app/LoginFrame","dojo/_base/declare,dojo/_base/lang,dojo/keys,dojo/aspect,dojo/Deferred,dojo/when,dojo/promise/Promise,dojo/promise/all,dijit/_Widget,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/query,dojo/dom-style,../string,../resources,dojo/text!./templates/LoginFrame.html,dijit/form/Form,dijit/form/Button,dijit/form/ValidationTextBox,idx/form/TextBox,idx/widget/Dialog".split(","),function(j,k,l,m,n,o,p,u,h,q,r,s,i,d,f,t){return j("idx.app.LoginFrame",[h,q,r],{baseClass:"idxLoginFrame",
templateString:t,isContainer:!0,formName:"",formAction:"",formTarget:"",loginTitle:"",loginSubTitle:"",labelSeparator:"",_setFormActionAttr:function(a){this.formAction=a;this._form.set("action",a)},_setFormTargetAttr:function(a){this.formTarget=a;d.nullTrim(a)?this._form.set("target",a):this._form.set("target",this._hiddenFrame.name)},_setLabelSeparatorAttr:function(a){var b=this.labelSeparator=a;this.domNode&&s(".idxLoginSeparator",this.domNode).forEach(function(a){a.innerHTML=b})},labelUserName:"",
userFieldName:"username",labelPassword:"",passwordFieldName:"password",attributeMap:k.delegate(h.prototype.attributeMap,{inactivityMessage:{node:"inactivityMessageNode",type:"innerHTML"},loginTitle:{node:"loginTitleNode",type:"innerHTML"},loginSubTitle:{node:"loginSubtitleNode",type:"innerHTML"},loginCopyright:{node:"copyrightNode",type:"innerHTML"},invalidMessage:{node:"invalidMessageNode",type:"innerHTML"}}),constructor:function(){this._allowingSubmit=!1},_setLabelUserNameAttr:function(a){this.labelUserName=
a;var b=d.nullTrim(this.labelSeparator);d.nullTrim(a)?this.loginUserName.set("label",a+(b?b:"")):this.loginUserName.set("label","")},_setUserFieldNameAttr:function(a){this.userFieldName=a;d.nullTrim(a)?this.loginUserName.set("name",a):this.loginUserName.set("name","username")},_setLabelPasswordAttr:function(a){this.labelPassword=a;var b=d.nullTrim(this.labelSeparator);d.nullTrim(a)?this.loginPassword.set("label",a+(b?b:"")):this.loginPassword.set("label","")},_setPasswordFieldNameAttr:function(a){this.passwordFieldName=
a;d.nullTrim(a)?this.loginPassword.set("name",a):this.loginPassword.set("name","password")},inactivityMessage:"",loginCopyright:"",labelSubmitButton:"",_setLabelSubmitButtonAttr:function(a){this.labelSubmitButton=a;this.loginButton.set("label",this.labelSubmitButton)},invalidMessage:"",invalidMessageTitle:"",_setInvalidMessageTitleAttr:function(a){this.invalidMessageTitle=a;this.invalidLoginDialog.set("title",this.invalidMessageTitle)},labelOkButton:"",_setLabelOkButtonAttr:function(a){this.labelOkButton=
a;this.dialogOKButton.set("label",a)},regExp:".*",labelCancelButton:"",_setLabelCancelButtonAttr:function(a){this.labelCancelButton=a;this.cancelButton.set("label",this.labelCancelButton)},showCancelButton:!1,_setShowCancelButtonAttr:function(a){a?i.set(this.cancelButton.domNode,{visibility:"visible",display:"inline"}):i.set(this.cancelButton.domNode,{visibility:"hidden",display:"none"})},postMixInProperties:function(){this.inherited(arguments);var a=f.getResources("idx/app/LoginFrame",this.lang);
if(!this.loginTitle)this.loginTitle=a.loginTitle;if(!this.labelUserName)this.labelUserName=a.labelUserName;if(!this.labelPassword)this.labelPassword=a.labelPassword;if(!this.labelSubmitButton)this.labelSubmitButton=a.loginTitle;if(!this.invalidMessage)this.invalidMessage=a.invalidMessage;if(!this.invalidMessageTitle)this.invalidMessageTitle=a.invalidMessageTitle;a=f.getResources("idx/widget/ModalDialog",this.lang);if(!this.labelOkButton)this.labelOkButton=a.executeButtonLabel;if(!this.labelCancelButton)this.labelCancelButton=
a.cancelButtonLabel;if(!this.labelSeparator)this.labelSeparator=f.getLabelFieldSeparator("idx/app/LoginFrame",this.lang)},postCreate:function(){this.connect(this.loginUserName.domNode,"onkeypress",this._onKeyPress);this.connect(this.loginPassword.domNode,"onkeypress",this._onKeyPress)},_onKeyPress:function(a){this.inherited(arguments);a&&a.keyCode&&a.keyCode==l.ENTER&&this._onSubmitClick(a)},_onFormSubmit:function(){return this._allowingSubmit?(this._allowingSubmit=!1,!0):!1},_onSubmitClick:function(){var a=
this.loginUserName.value;a&&""!=a&&(a=a.replace(/^\s+|\s+$/g,""),this.loginUserName.set("value",a));if((a=this.loginPassword.value)&&""!=a)a=a.replace(/^\s+|\s+$/g,""),this.loginPassword.set("value",a);var b=this.loginPassword.isValid(),f=this.loginUserName.isValid();this.loginPassword.focus();this.loginUserName.focus();if(!f||!b){this.loginButton.focus();this.invalidLoginDialog.show();var g=null,c=this,g=m.after(this.invalidLoginDialog,"onHide",function(){b||(c.loginPassword.focus(),c.loginPassword.validate(!1));
f||(c.loginUserName.focus(),c.loginUserName.validate(!1));g&&g.remove()})}else{var e=this.onSubmit(this.loginUserName.value,this.loginPassword.value,this.loginForm),c=this;o(e,function(){var a=!1;if((a=!0==e||!1==e?e:e instanceof n||e instanceof p?e.isResolved():!0)&&d.nullTrim(c.formAction))c._allowingSubmit=!0,c._form.submit(),c._allowingSubmit=!1})}},onSubmit:function(){return!0},_onCancelClick:function(){return this.onCancel()},onCancel:function(){}})});