//>>built
define("idx/widget/NavTreeModel","dojo/_base/declare,dojo/_base/lang,dojo/string,dijit/Tree,dijit/tree/ForestStoreModel,../string,../util".split(","),function(f,i,g,j,h,d,e){return f("idx.widget.NavTreeModel",[h],{typeAttr:"type",selectableAttr:"selectable",selectabilityMap:null,typeSelectabilityMap:null,defaultSelectability:"leaves",badgeLabelAttr:"badgeLabel",badgeIconTypeAttr:"badgeIconType",badgeMap:null,getItemType:function(a){return!d.nullTrim(this.typeAttr)||!this.store.isItem(a)||!this.store.hasAttribute(a,
this.typeAttr)?null:this.store.getValue(a,this.typeAttr)},isSelectable:function(a){if(!this.store.isItem(a))return!1;if(this.selectabilityMap){var b=this.getIdentity(a);if(b in this.selectabilityMap)return this.selectabilityMap[b]}if(d.nullTrim(this.selectableAttr)&&this.store.hasAttribute(a,this.selectableAttr))return this.store.getValue(a,this.selectableAttr);if(this.typeSelectabilityMap&&(b=this.getItemType(a))&&b in this.typeSelectabilityMap)return this.typeSelectabilityMap[b];switch(this.defaultSelectability){case "all":return!0;
case "none":return!1;case "leaves":return!this.mayHaveChildren(a);default:return!0}},getBadge:function(a){if(!this.store.isItem(a))return null;var b={label:null,iconType:null};if(this.badgeMap){var c=this.getIdentity(a);if(c in this.badgeMap){c=this.badgeMap[c];if(!c)return null;switch(e.typeOfObject(c)){case "number":return b.label=c,b;case "string":return b.label=this._normalizeBadgeLabel(c),b;case "object":if(!c.label&&!c.iconType)return null;if(c.label)b.label=this._normalizeBadgeLabel(c.label);
if(c.iconType)b.iconType=c.iconType;return b}}}if(d.nullTrim(this.badgeLabelAttr)&&this.store.hasAttribute(a,this.badgeLabelAttr))c=this.store.getValue(a,this.badgeLabelAttr),b.label=this._normalizeBadgeLabel(c);if(d.nullTrim(this.badgeIconTypeAttr)&&this.store.hasAttribute(a,this.badgeIconTypeAttr))b.iconType=this.store.getValue(a,this.badgeIconTypeAttr);return!b.label&&!b.iconType?null:b},_normalizeBadgeLabel:function(a){switch(e.typeOfObject(a)){case "number":return a;case "string":return a.match(/^\s*(\+|-)?\d+\s*$/)?
Number(g.trim(a)):a;default:return""+a}},onBadgesChanged:function(){},onSelectabilityChanged:function(){},normalizeItem:function(a){for(var b=this.store.getAttributes(a),c={},d=0;d<b.length;d++){var e=b[d],f=this.store.getValue(a,e);c[e]=f}return c}})});