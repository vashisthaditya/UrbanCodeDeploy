//>>built
define("idx/data/JsonStore",["dojo/_base/declare","dojo/data/ItemFileWriteStore","dojo/_base/lang","dojo/_base/array"],function(f,g,h,d){return f("idx.data.JsonStore",[g],{identifier:"",label:"",items:"",constructor:function(a){if(a)this.identifier=a.identifier||this.identifier,this.label=a.label||this.label,this.items=a.items||this.items},setUrl:function(a){this.url=a;this.forceLoad()},setData:function(a){this.data=a;this.forceLoad()},getData:function(){var a=d.map(this._getItemsArray(),this.getItemData,
this);if(this.items){var c=a,a={};a[this.items]=c}return a},getItemData:function(a){var c={};d.forEach(this.getAttributes(a),function(e){var b=a[e];b&&0!==b.length&&(1===b.length?(b=b[0],this.isItem(b)&&(b=this.getItemData(b)),c[e]=b):c[e]=d.map(b,function(a){this.isItem(a)&&(a=this.getItemData(a));return a},this))},this);return c},forceLoad:function(){this._loadFinished=!1},_getItemsFromLoadedData:function(a){var c;this.items?c=a[this.items]:(a&&!h.isArray(a)&&(a=[a]),c=a);arguments[0]={items:c,
identifier:this.identifier,label:this.label};return this.inherited(arguments)}})});