//>>built
define("idx/gridx/modules/filter/QuickFilter","dojo/_base/declare,dojo/_base/connect,dojo/_base/lang,dojo/on,gridx/core/_Module,dojo/_base/html,dijit/form/TextBox,dijit/form/Button,dijit/form/DropDownButton,gridx/modules/filter/Filter,dojo/i18n!../../nls/QuickFilter".split(","),function(j,k,l,g,f,b,m,n,o,d,c){return f.register(j(f,{name:"quickFilter",forced:["filter","toolBar"],autoApply:!0,delay:700,getAPIPath:function(){return{quickFilter:this}},load:function(){this.textBox=new m({value:c.filter});
this.button=new n({label:c.apply,showLabel:!1,title:c.apply,iconClass:"gridxQuickFilterIcon"});b.addClass(this.textBox.domNode,"gridxQuickFilterTextBox");b.addClass(this.textBox.domNode,"gridxQuickFilterTextBoxEmpty");b.addClass(this.button.domNode,"gridxQuickFilterButton");this.grid.toolBar.widget.addChild(this.button);this.grid.toolBar.widget.addChild(this.textBox);this._initWidgets();this.loaded.callback()},apply:function(){if(b.hasClass(this.textBox.domNode,"gridxQuickFilterTextBoxEmpty"))this.grid.filter.setFilter();
else{var a=this.textBox.get("value"),c=[];dojo.forEach(this.grid.columns(),function(b){(!b.isFilterable||b.isFilterable())&&c.push(d.contain(d.column(b.id,"string"),d.value(a,"string")))},this);this.grid.filter.setFilter(d.or.apply(d,c))}},clear:function(){this.textBox.set("value","");this.textBox.textbox.blur();b.addClass(this.textBox.domNode,"gridxQuickFilterTextBoxEmpty");this.grid.filter.setFilter()},_autoApply:function(){var a=this;this._timer&&window.clearTimeout(this._timer);this._timer=window.setTimeout(function(){a.apply();
this._timer=null},this.delay)},_initWidgets:function(){var a=this.textBox,d=this.button,f=this,e=this.grid.filterBar;if(e){var h=this.menu=new dijit.Menu({});h.domNode.style.display="none";var i=new dijit.MenuItem({label:"Filter",onClick:function(){f.apply()}});h.addChild(i);i=new dijit.MenuItem({label:"Build filter...",onClick:function(){e&&(e.show(),e.showFilterDialog())}});h.addChild(i);k.connect(e,"load",function(){e.domNode.style.display="none"})}g(a,"keyup",function(){b.toggleClass(a.domNode,
"gridxQuickFilterTextBoxEmpty",!a.get("value"));f._autoApply()});g(a,"focus",function(){b.hasClass(a.domNode,"gridxQuickFilterTextBoxEmpty")&&a.set("value","")});g(a,"blur",function(){a.get("value")||(a.set("value",c.filter),b.addClass(a.domNode,"gridxQuickFilterTextBoxEmpty"))});g(d,"click",l.hitch(this,"apply"));this.connect(b.create("span",{className:"gridxQuickFilterClearIcon",title:c.clear},a.domNode,"last"),"click","clear")},destroy:function(){this.inherited(arguments);this.textBox.destroyRecursive();
this.button.destroyRecursive();this.menu&&this.menu.destroyRecursive()}}))});