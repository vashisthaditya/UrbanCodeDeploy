//>>built
require({cache:{"url:idx/app/templates/TabMenuDock.html":'<div class="${baseClass}">\r\n  <div class="${baseClass}Tabs" data-dojo-attach-point="tabsNode" \r\n  \t\trole="tablist" wairole="tablist"></div>\r\n</div>\r\n'}});
define("idx/app/TabMenuDock","dojo/_base/declare,./_Dock,dijit/_TemplatedMixin,dojo/_base/kernel,dojo/_base/lang,dojo/_base/array,dojo/aspect,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dijit/_base/wai,../util,./WorkspaceTab,dojo/text!./templates/TabMenuDock.html".split(","),function(m,n,o,l,i,e,j,p,k,f,g,q,r,s){return m("idx.app.TabMenuDock",[n,o],{showMenu:!1,showOverflow:!1,baseClass:"idxTabMenuDock",templateString:s,tabWidgetClass:null,constructor:function(){this._tabs=[];this._tabsByID=
[];this._tabHandles=[]},destroy:function(){if(this._tabHandles){var a=null;for(a in this._tabHandles)e.forEach(this._tabHandles[a],function(a){a.remove()}),delete this._tabHandles[a]}this.inherited(arguments)},buildRendering:function(){this.cssOptions=q.getCSSOptions(this.baseClass+"Options",this.domNode);if(!this.cssOptions)this.cssOptions={tabWidget:"idx.app.WorkspaceTab",autoHeight:"true"};this.cssOptions.autoHeight="true"==this.cssOptions.autoHeight?!0:!1;this.tabWidgetClass=r;this.autoHeight=
this.cssOptions.autoHeight;this.inherited(arguments)},_doAddWorkspace:function(a){for(var b=0,c=0,c=0;c<this._tabs.length;c++)var d=this._tabs[c],d=k.getMarginBox(d.domNode),b=b+d.w;d=new this.tabWidgetClass({workspace:a,tabPosition:this._tabs.length});this._tabs.push(d);this._tabsByID[a.workspaceID]=d;var c=j.after(d,"onTabSelect",i.hitch(this,this._selectWorkspaceTab),!0),e=j.after(d,"onTabMouseOut",i.hitch(this,this._onTabMouseOut),!0),g=j.after(d,"onTabMouseOver",i.hitch(this,this._onTabMouseOver),
!0),h=[];this._tabHandles[a.workspaceID]=h;h.push(c);h.push(e);h.push(g);p.place(d.domNode,this.tabsNode,"last");d.startup();l._isBodyLtr()?f.set(d.domNode,{position:"absolute",left:""+b+"px"}):f.set(d.domNode,{position:"absolute",right:""+b+"px"});this.applyTabStyles();return!0},_onTabMouseOut:function(a,b){if(b==this._hoverTab)this._hoverTab=null,this._hoverIndex=-1;this.applyTabStyles()},_onTabMouseOver:function(a,b){this._hoverIndex=e.indexOf(this._tabs,b);this._hoverTab=b;this.applyTabStyles()},
_selectWorkspaceTab:function(a,b,c){this.selectWorkspace(c)},_doSelectWorkspace:function(a){this._selectedTab=this._tabsByID[a.workspaceID];this._selectedIndex=e.indexOf(this._tabs,this._selectedTab);this.applyTabStyles();return!0},_doRemoveWorkspace:function(a,b){var c=this._tabsByID[a.workspaceID],d=e.indexOf(this._tabs,c);e.forEach(this._tabHandles[a.workspaceID],function(a){a&&a.remove()});c.destroyRecursive();this._tabs.splice(d,1);delete this._tabsByID[a.workspaceID];delete this._tabHandles[a.workspaceID];
this.resize();if(b)c=this._tabs.length>d?d:d-1,0<=c?this.selectWorkspace(this._tabs[c].get("workspace")):this._selectedIndex=-1;this.applyTabStyles();return!0},resize:function(){for(var a=0,b=0,a=0;a<this._tabs.length;a++){var c=this._tabs[a],d=k.getMarginBox(c.domNode);l._isBodyLtr()?f.set(c.domNode,{position:"absolute",left:""+b+"px"}):f.set(c.domNode,{position:"absolute",right:""+b+"px"});b+=d.w}if(this.autoHeight){for(a=b=0;a<this._tabs.length;a++)if(c=this._tabs[a],c=k.getMarginBox(c.domNode),
c.h>b)b=c.h;f.set(this.domNode,{height:""+b+"px"})}},applyTabStyles:function(){for(var a=0,a=0;a<this._tabs.length;a++){var b=this._tabs[a];b.setState(this._tabs.length,a,this._selectedIndex,this._hoverIndex);a==this._selectedIndex?g.setWaiState(b.tabNode,"selected","true"):g.setWaiState(b.tabNode,"selected","false")}this.resize()}})});