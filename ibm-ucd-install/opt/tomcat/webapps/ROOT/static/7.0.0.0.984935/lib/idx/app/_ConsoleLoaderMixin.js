//>>built
define("idx/app/_ConsoleLoaderMixin","dojo/_base/declare,dojo/_base/declare,dojo/_base/kernel,dojo/_base/lang,dojo/_base/array,dijit/registry,idx/app/registry,dijit/layout/TabContainer,dojox/layout/ContentPane,idx/app/_HashHandlerMixin".split(","),function(j,k,g,e,f,h,i,m,n,l){return j("idx.app._ConsoleLoaderMixin",[],{CN:"idx.app._ConsoleLoaderMixin",TYPE_CONTEXT:"context",TYPE_TAB:"tab",CONTAINER_ID_TOP:"_ctxMain",TAB_ID_TOP:"_tabMain",numCtx:0,href:"",useHash:!0,constructor:function(a){a&&e.mixin(this,
a)},loadUIFromRegistry:function(){if(this.href)i.href=this.href;var a=i.getData();this.useHash&&k.safeMixin(this,new l);this._validate(a);this._loadModulePaths(a.items);this._loadRequires(a.items);this._loadContext(a);this._loadTabs(a);this.useHash&&this._setupHashHandler()},addTab:function(a){var b=this._getArgs(a);if(!a.containerId)a.containerId=this.id+this.TAB_ID_TOP;var c=a.dojoType?a.dojoType:"dojox.layout.ContentPane";a.onLoad=a.onLoad||function(){};this.useHash&&(a=this._createItemForHash(a));
if("dojox.layout.ContentPane"===c)b.onLoad=function(){a.onLoad(h.byId(a.id))};var d=this._add(a,b,c);a.dijit&&d&&"dojox.layout.ContentPane"===c&&(b.id&&(b.id+="_"+a.dijit),b=this._createWidget(a.dijit,b),null!=b&&b.placeAt(d.id));return d},addContext:function(a){if(!a.containerId)a.containerId=this.id+this.CONTAINER_ID_TOP;var b=this._getArgsContext(a);return this._add(a,b,a.dojoType?a.dojoType:"dijit.layout.TabContainer")},_add:function(a,b,c){var d=h.byId(a.containerId);if(d){a.cssclass&&("idxConsoleFrameTabs"==
a.cssclass?console.warn("DEPRECATED: CSS class 'idxConsoleFrameTabs' is deprecated. Remove this cssclass entry from the registry. -- will be removed in next version."):b["class"]+=" "+a.cssclass);if(a.style)b.style=a.style;a=this._createWidget(c,b);null!=a&&d.addChild(a);return a}},_loadContext:function(a){f.forEach(a.items,e.hitch(this,function(a){a.type==this.TYPE_CONTEXT&&this.addContext(a)&&this.numCtx++}))},_loadTabs:function(a){f.forEach(a.items,e.hitch(this,function(a){if(!a.type)a.type=this.TYPE_TAB;
a.type==this.TYPE_TAB&&this.addTab(a)}))},_loadModulePaths:function(a){f.forEach(a,e.hitch(this,function(a){null!=a.modulePaths&&1<=a.modulePaths.length&&f.forEach(a.modulePaths,e.hitch(this,function(a){g.registerModulePath(a.name,a.value)}))}))},_loadRequires:function(a){f.forEach(a,e.hitch(this,function(a){null!=a.requires&&1<=a.requires.length&&f.forEach(a.requires,e.hitch(this,function(a){g.require(a)}))}))},_createWidget:function(a,b){var c=this.CN+"._createWidget ",d=null;try{g.require(a),d=
new (e.getObject(a))(b)}catch(f){c=c+" "+a+" "+f.message,console.error(c),alert(c)}return d},_getArgs:function(a){var b={adjustPaths:!0,id:a.id,renderStyles:!0,executeScripts:!0,style:"width:100%;height:100%;",title:this._getLocalizedName(a),context:a,selected:!0===a.selected?!0:!1,href:a.href};a.args&&e.mixin(b,a.args);return b},_getArgsContext:function(a){var b={id:a.id,title:this._getLocalizedName(a),selected:!0===a.selected?!0:!1};a.args&&e.mixin(b,a.args);return b},_getLocalizedName:function(a){var b=
a.name?a.name:a.id;if(a.nls&&a.nls.path&&a.nls.file)try{g.requireLocalization(a.nls.path,a.nls.file);var c=g.i18n.getLocalization(a.nls.path,a.nls.file)[b];null!=c&&(b=c)}catch(d){console.warn(this.CN+"._getLocalizedName  "+d.message)}return b},_validate:function(){}})});