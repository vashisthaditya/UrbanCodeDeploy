//>>built
require({cache:{"url:idx/widget/templates/MenuDialog.html":'<div role="presentation">\r\n\t<div class="dijitTooltipContainer" role="presentation">\r\n\t\t<div class ="dijitTooltipContents dijitTooltipFocusNode" data-dojo-attach-point="containerNode" role="presentation" tabIndex="-1"></div>\r\n\t</div>\r\n\t<div class="dijitTooltipConnector" role="presentation" data-dojo-attach-point="connectorNode"></div>\r\n</div>\r\n'}});
define("idx/widget/MenuDialog","dojo/_base/declare,dojo/_base/array,dojo/_base/connect,dojo/_base/event,dojo/_base/lang,dojo/_base/sniff,dojo/_base/window,dojo/aspect,dojo/dom,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/request/iframe,dojo/keys,dojo/window,dijit/popup,dijit/TooltipDialog,./_EventTriggerMixin,dojo/text!./templates/MenuDialog.html".split(","),function(r,s,y,l,h,g,m,n,o,p,k,q,t,f,u,j,v,w,x){return h.getObject("idx.oneui",!0).MenuDialog=r("idx.widget.MenuDialog",[v,w],{baseClass:"oneuiMenuDialog",
_closeOnBlur:!1,hoverToOpen:!0,isShowingNow:!1,leftClickToOpen:!1,parentMenu:null,refocus:!0,targetNodeIds:[],templateString:x,useConnector:!1,postCreate:function(){this.inherited(arguments);var a=this.isLeftToRight();this._nextMenuKey=a?f.RIGHT_ARROW:f.LEFT_ARROW;this._prevMenuKey=a?f.LEFT_ARROW:f.RIGHT_ARROW;this.connect(this.domNode,"onkeypress","_onDomNodeKeypress");this.contextMenuForWindow?this.bindDomNode(m.body()):s.forEach(this.targetNodeIds,function(a){this.bindDomNode(a)},this)},_onDomNodeKeypress:function(a){var c=
a.target||a.srcElement,b=!1;if(this.parentMenu&&!a.ctrlKey&&!a.altKey&&(!c||!("TEXTAREA"===c.nodeName||"INPUT"===c.nodeName&&"text"===c.type)))switch(a.charOrCode){case this._nextMenuKey:this.parentMenu._getTopMenu().focusNext();b=!0;break;case this._prevMenuKey:if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();else this.onCancel(!1);b=!0}b?l.stop(a):this.inherited(arguments)},_getMenuForDialog:function(){for(var a=this.getChildren(),c,b=0;!c&&b<a.length;b++)a[b]&&a[b].menuForDialog&&(c=a[b]);
return c},focus:function(){this.focused||this.inherited(arguments)},_getFocusItems:function(){this.inherited(arguments);if(this._firstFocusItem==this.domNode)this._firstFocusItem=this.containerNode;if(this._lastFocusItem==this.domNode)this._lastFocusItem=this.containerNode},_onTrigger:function(a){var c=null;if(!a.additionalData.leftClickToOpen&&"pageX"in a.event&&(c={x:a.event.pageX,y:a.event.pageY},"IFRAME"===a.triggerNode.tagName)){var b=k.position(a.triggerNode,!0),e=m.withGlobal(u.get(t.doc(a.triggerNode)),
"docScroll",k),d=q.getComputedStyle(a.triggerNode),i=q.toPixelValue,f=(g("ie")&&g("quirks")?0:i(a.triggerNode,d.paddingLeft))+(g("ie")&&g("quirks")?i(a.triggerNode,d.borderLeftWidth):0),d=(g("ie")&&g("quirks")?0:i(a.triggerNode,d.paddingTop))+(g("ie")&&g("quirks")?i(a.triggerNode,d.borderTopWidth):0);c.x+=b.x+f-e.x;c.y+=b.y+d-e.y}if(!this._openTimer)this._openTimer=setTimeout(h.hitch(this,function(){delete this._openTimer;this.open({around:a.triggerNode,coords:c,position:a.additionalData.popupPosition,
useConnector:a.additionalData.useConnector})}),1);"hover"!=a.event.type&&l.stop(a.event)},onBlur:function(){this.inherited(arguments);this._closeOnBlur&&this.close()},open:function(a){var c=null;if(this.refocus){c=this._focusManager.get("curNode");if(!c||o.isDescendant(c,this.domNode))c=this._focusManager.get("prevNode");o.isDescendant(c,this.domNode)&&(c=null)}var b=a&&(a.coords?{x:a.coords.x,y:a.coords.y,w:0,h:0}:a.around)||c||this._focusManager.get("curNode")||{x:0,y:0,w:0,h:0},e=h.hitch(this,
function(){c&&c.focus();this.close()});this._useConnectorForPopup=a&&"useConnector"in a?a.useConnector:this.useConnector;j.open({popup:this,around:b,onExecute:e,onCancel:e,orient:a&&"position"in a?a.position:this.popupPosition});delete this._useConnectorForPopup;this.focus();this._closeOnBlur=!0},close:function(){j.close(this)},bindDomNode:function(a,c){var b=h.delegate(this),e;for(e in c)b[e]=c[e];this._addEventTrigger(a,"click",function(){return b.leftClickToOpen},b);this._addEventTrigger(a,"contextmenu",
function(){return!b.leftClickToOpen},b);this._addEventTrigger(a,"keydown",function(a){return!b.leftClickToOpen&&a.event.shiftKey&&a.event.keyCode==f.F10},b);this._addEventTrigger(a,"hover",function(){return b.hoverToOpen},b)},unBindDomNode:function(a){this._removeEventTriggers(a)},_layoutNodes:function(a,c,b,e){var d=e?"oneuiMenuDialogConnected":"",i="",g=b&&1<=b.length&&b.charAt(0),b=b&&2<=b.length&&b.charAt(1);k.getContentBox(this.domNode);var f,h,j=function(a){var b=a.style,c=b.display,d=b.visibility;
if("none"==b.display)b.visibility="hidden",b.display="";a=k.getContentBox(a);b.display=c;b.visibility=d;return a};if("M"===g||"M"!==b&&b!==c.charAt(1))switch(d+=" dijitTooltip"+("L"===b?"Right":"Left"),g){case "M":d+=" dijitTooltipLRMiddle";break;case "T":d+=" dijitTooltipLRTop";e&&(i="connectorNearTopEdge");0<a.h&&(f="top",h=Math.max(4,4+Math.min(j(this.domNode.parentNode).h-24,a.h/2))+"px");break;case "B":d+=" dijitTooltipLRBottom",e&&(i="connectorNearBottomEdge"),0<a.h&&(f="bottom",h=4+Math.min(j(this.domNode.parentNode).h-
24,a.h/2)+"px")}else switch(d+=" dijitTooltip"+("T"===g?"Below":"Above"),b){case "M":d+=" dijitTooltipABMiddle";break;case "L":d+=" dijitTooltipABLeft";e&&(i="connectorNearLeftEdge");0<a.w&&(f="left",h=Math.max(4,4+Math.min(j(this.domNode.parentNode).w-16,a.w/2))+"px");break;case "R":d+=" dijitTooltipABRight",e&&(i="connectorNearRightEdge"),0<a.h&&(f="right",h=4+Math.min(j(this.domNode.parentNode).w-24,a.w/2)+"px")}p.replace(this.domNode,d,this._currentOrientClass||"");this._currentOrientClass=d;
p.replace(this.domNode.parentNode,i,this._currentConnectorClass||"");this._currentConnectorClass=i;this.connectorNode.style.top="";this.connectorNode.style.bottom="";this.connectorNode.style.left="";this.connectorNode.style.right="";f&&(this.connectorNode.style[f]=h)},orient:function(a,c,b,e,d){this._layoutNodes(d,c,b,"_useConnectorForPopup"in this?this._useConnectorForPopup:this.useConnector)},onOpen:function(a){this.isShowingNow=!0;this._layoutNodes(a.aroundNodePos,a.aroundCorner,a.corner,"_useConnectorForPopup"in
this?this._useConnectorForPopup:this.useConnector);this.reset();if(a=this._getMenuForDialog()){if(this._menuparented)this._menuparented.parentMenu=null;a.parentMenu=this.parentMenu;this._menuparented=a;this._handleexecute&&this._handleexecute.remove();var c=h.hitch(this,this.onExecute);this._handleexecute=a.on("execute",c);this._handleopen&&this._handleopen.remove();this._handleopen=n.after(a,"_openPopup",function(){var a=j._stack[j._stack.length-1];if(!a._menuregistered)a._menuregistered=!0,a.handlers.push(n.around(a,
"onExecute",function(a){return function(){a.apply(this,arguments);c()}}))},!0)}this._onShow()},onClose:function(){this._closeOnBlur=this.isShowingNow=!1;if(this._handleexecute)this._handleexecute.remove(),this._handleexecute=null;if(this._handleopen)this._handleopen.remove(),this._handleopen=null;if(this._menuparented)this._menuparented=this._menuparented.parentMenu=null;this.onHide()},onExecute:function(){}})});