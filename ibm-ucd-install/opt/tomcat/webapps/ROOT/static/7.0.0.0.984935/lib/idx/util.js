//>>built
define("idx/util","dojo/_base/lang,idx/main,dojo/_base/kernel,dojo/has,dojo/_base/xhr,dojo/_base/window,dojo/_base/url,dojo/date/stamp,dojo/json,dojo/string,dojo/dom-class,dojo/dom-style,dojo/dom-attr,dojo/dom-construct,dojo/dom-geometry,dojo/io-query,dojo/query,dojo/NodeList-dom,dijit/registry,dijit/form/_FormWidget,dijit/_WidgetBase,dojo/_base/sniff,dijit/_base/manager".split(","),function(k,C,x,m,D,q,y,z,A,E,F,i,B,r,u,G,H,J,t,I,s){var c=k.getObject("util",!0,C);c.getVersion=function(){var a={url:x.moduleUrl("idx",
"version.txt"),showProgress:!1,handleAs:"json",load:function(){},error:function(){}};D.xhrGet(a)};c.getOffsetPosition=function(a,b){for(var e=q.body(),b=b||e,d=a,f=0,c=0;d!==b;){if(d===e)throw"idx.util.getOffsetPosition: specified root is not ancestor of specified node";f+=d.offsetLeft;c+=d.offsetTop;d=d.offsetParent}return{l:f,t:c}};c.typeOfObject=function(a){return k.isString(a)?"string":"undefined"==typeof a?"undefined":"number"==typeof a?"number":"boolean"==typeof a?"boolean":k.isFunction(a)?
"function":k.isArray(a)?"array":a instanceof Date?"date":a instanceof y?"url":"object"};c.parseObject=function(a,b){switch(b){case "string":return""+a;case "number":return"number"==typeof a?a:a.length?Number(a):NaN;case "boolean":return"boolean"==typeof a?a:"false"!=a.toLowerCase();case "function":k.isFunction(a)&&(a=a.toString(),a=k.trim(a.substring(a.indexOf("{")+1,a.length-1)));try{return""===a||-1!=a.search(/[^\w\.]+/i)?new Function(a):k.getObject(a,!1)||new Function(a)}catch(e){return new Function}case "array":return k.isArray(a)?
a:a?a.split(/\s*,\s*/):[];case "date":if(a instanceof Date)return a;switch(a){case "":return new Date("");case "now":return new Date;default:return z.fromISOString(a)}case "url":return a instanceof y?a:x.baseUrl+a;default:return"string"==c.typeOfObject(a)?A.parse(a):a}};c.getCSSOptions=function(a,b,e){var d=q.body();if(!b||"canHaveHTML"in b&&!b.canHaveHTML)b=d;for(var f=!1,h=b;h&&!f;)h===d&&(f=!0),h=h.parentNode;var j=null;if(!f){h=b;for(b=[];h;)b.push(B.get(h,"class")),h=h.parentNode;b.reverse();
h=j=r.create("div",{style:"visibility: hidden; display: none;"},d,"last");for(d=0;d<b.length;d++)(f=b[d])&&(f=E.trim(f)),f&&0==f.length&&(f=null),h=r.create("div",f?{"class":f}:null,h,"last");b=h}h=r.create("div",null,b);F.add(h,a);d=i.getComputedStyle(h);a=null;d&&(a=""+d.backgroundImage);r.destroy(h);j&&r.destroy(j);if(!a||5>a.length||"url("!=a.toLowerCase().substring(0,4)||")"!=a.charAt(a.length-1))return null;a=a.substring(4,a.length-1);if('"'==a.charAt(0)){if(2>a.length||'"'!=a.charAt(a.length-
1))return null;a=a.substring(1,a.length-1)}j=a.lastIndexOf("?");h=a.lastIndexOf("/");if(0>j||j<h)return null;j=a.substring(j+1,a.length);if(null==j||0==j.length)return null;j=G.queryToObject(j);return e?c.mixin({},j,e):j};c.mixinCSSDefaults=function(a,b,e){if(!a)return null;b=c.getCSSOptions(b,e);if(!b)return null;c.mixin(a,b);return b};c.mixin=function(a,b,e){if(!a)return null;if(!b)return a;e||(e=a);var d={},f;for(f in b)if(f in e){var h=c.typeOfObject(e[f]);d[f]=c.parseObject(b[f],h)}k.mixin(a,
d);return a};c.recursiveMixin=function(a,b,e){var d=null,f=null,h=null;if(e)d=e.clone,f=e.controlField,h="controlValue"in e?e.controlValue:!0;for(field in b)if(field in a){var j=a[field],v=b[field],i=c.typeOfObject(j),m=c.typeOfObject(v);i==m&&"object"==i&&(!f||j[f]==h)?c.recursiveMixin(j,v,e):a[field]=d?k.clone(v):v}else a[field]=d?k.clone(b[field]):b[field]};c.nullify=function(a,b,e){for(var d=0,d=0;d<e.length;d++){var f=e[d];f in a&&(b&&f in b||(a[f]=null))}};c._getNodeStyle=function(a){var b=
B.get(a,"style");if(!b)return null;a=null;if("string"==c.typeOfObject(b))for(var a={},b=b.split(";"),e=0;e<b.length;e++){var d=b[e],f=d.indexOf(":");if(!(0>f)){var h=d.substring(0,f),j="";f<d.length-1&&(j=d.substring(f+1));a[h]=j}}else a=b;return a};c._getNodePosition=function(a){a=c._getNodeStyle(a);return!a||!a.position?"":a.position};c.fitToWidth=function(a,b){var e=c._getNodePosition(b);i.set(a,{width:"auto"});i.set(b,{position:"static"});var d=u.getMarginBox(a);i.set(a,{width:d.w+"px"});i.set(b,
{position:e});return d};c.fitToHeight=function(a,b){var e=c._getNodePosition(b);i.set(a,{height:"auto"});i.set(b,{position:"static"});var d=u.getMarginBox(a);i.set(a,{height:d.h+"px"});i.set(b,{position:e});return d};c.fitToSize=function(a,b){var e=c._getNodePosition(b);i.set(a,{width:"auto",height:"auto"});i.set(b,{position:"static"});var d=u.getMarginBox(a);i.set(a,{width:d.w+"px",height:d.h+"px"});i.set(b,{position:e});return d};c.getStaticSize=function(a){var b=c._getNodeStyle(a),e=b&&b.position?
b.position:"",d=b&&b.width?b.width:"",b=b&&b.height?b.height:"";i.set(a,{position:"static",width:"auto",height:"auto"});var f=u.getMarginBox(a);i.set(a,{position:e,width:d,height:b});return f};c.reposition=function(a,b){var e=c._getNodePosition(a);i.set(a,{position:b});return e};c.getParentWidget=function(a,b){var e=(a instanceof s?a.domNode:a).parentNode;if(null==e)return null;for(var d=t.getEnclosingWidget(e);b&&d&&!(d instanceof b);)e=d.domNode.parentNode,d=null,e&&(d=t.getEnclosingWidget(e));
return d};c.getSiblingWidget=function(a,b,e){var d=a instanceof s?a.domNode:a,a=d.parentNode;if(null==a)return null;a=a.childNodes;if(!a)return null;for(var f=0,f=0;f<a.length&&!(a[f]==d);f++);if(f==a.length)return null;for(var d=b?-1:1,b=b?-1:a.length,c=0,j=null,c=f+d;c!=b;c+=d){var f=a[c],i=t.getEnclosingWidget(f);if(i&&i.domNode==f&&(!e||i instanceof e)){j=i;break}}return j};c.getChildWidget=function(a,b,e){if(!(a instanceof s)){var d=t.getEnclosingWidget(a);d&&(a=d)}var c=null,c=a instanceof s?
a.getChildren():a.childNodes;if(!c||0==c.length)return null;for(var a=b?-1:1,h=b?-1:c.length,j=0,i=null,j=b?c.length-1:0;j!=h;j+=a){d=c[j];if(!(d instanceof s)){b=d;d=t.getEnclosingWidget(b);if(!d)continue;if(d.domNode!=b)continue}if(!e||d instanceof e){i=d;break}}return i};c.getFormWidget=function(a,b){var c=null;b?c=b instanceof s?b.domNode:form:q.body();for(var d=null,c=H("[name='"+a+"']",c),f=0;!d&&f<c.length;f++){var h=t.getEnclosingWidget(c[f]);h&&h instanceof I&&h.get("name")==a&&(d=h)}return d};
c.isNodeOrElement=function(a){return a.parentNode&&a.childNodes&&a.attributes?!0:!1};c.debugObject=function(a){return c._debugObject(a,"/",[])};c._debugObject=function(a,b,e){if(null===a)return"null";switch(c.typeOfObject(a)){case "object":for(var d=0;d<e.length;d++)if(e[d].obj==a)return"CIRCULAR_REFERENCE[ "+e[d].path+" ]";e.push({obj:a,path:b});var d="{ ",f="";for(field in a)d=d+f+'"'+field+'": '+c._debugObject(a[field],b+'/"'+field+'"',e),f=", ";return d+" }";case "date":return"DATE[ "+z.toISOString(a)+
" ]";default:return A.stringify(a)}};c.isBrowser=m("host-browser");c.isIE=m("ie");c.isFF=m("ff");c.isSafari=m("safari");c.isChrome=m("chrome");c.isMozilla=m("mozilla");c.isOpera=m("opera");c.isKhtml=m("khtml");c.isAIR=m("air");c.isQuirks=m("quirks");c.isWebKit=m("webkit");c.fromJson="undefined"!=typeof JSON?JSON.parse:function(){function a(a,b,c){return b?d[b]:String.fromCharCode(parseInt(c,16))}var b=RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',
"g"),c=RegExp("\\\\(?:([^u])|u(.{4}))","g"),d={'"':'"',"/":"/","\\":"\\",b:"\u0008",f:"\u000c",n:"\n",r:"\r",t:"\t"},f=new String(""),h=Object.hasOwnProperty;return function(d,i){var m=d.match(b),k,o=m[0],q=!1;"{"===o?k={}:"["===o?k=[]:(k=[],q=!0);for(var n,p=[k],r=1-q,t=m.length;r<t;++r){var o=m[r],l;switch(o.charCodeAt(0)){default:l=p[0];l[n||l.length]=+o;n=void 0;break;case 34:o=o.substring(1,o.length-1);-1!==o.indexOf("\\")&&(o=o.replace(c,a));l=p[0];if(!n)if(l instanceof Array)n=l.length;else{n=
o||f;break}l[n]=o;n=void 0;break;case 91:l=p[0];p.unshift(l[n||l.length]=[]);n=void 0;break;case 93:p.shift();break;case 102:l=p[0];l[n||l.length]=!1;n=void 0;break;case 110:l=p[0];l[n||l.length]=null;n=void 0;break;case 116:l=p[0];l[n||l.length]=!0;n=void 0;break;case 123:l=p[0];p.unshift(l[n||l.length]={});n=void 0;break;case 125:p.shift()}}if(q){if(1!==p.length)throw Error();k=k[0]}else if(p.length)throw Error();if(i){var s=function(a,b){var d=a[b];if(d&&"object"===typeof d){var c=null,e;for(e in d)if(h.call(d,
e)&&d!==a){var f=s(d,e);void 0!==f?d[e]=f:(c||(c=[]),c.push(e))}if(c)for(e=c.length;0<=--e;)delete d[c[e]]}return i.call(a,b,d)};k=s({"":k},"")}return k}}();var w=null;c.normalizedLength=function(a){if(0===a.length)return 0;if(2<a.length){if(!w){var b={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0},c;if(m("ie"))q.doc.documentElement.style.fontSize="100%";var d=r.create("div",{style:{position:"absolute",left:"0",top:"-100px",width:"30px",
height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},q.body());for(c in b)d.style.fontSize=c,b[c]=16*Math.round(12*d.offsetHeight/16)/12/1E3;q.body().removeChild(d);w=b}b=w["12pt"]/12;c=parseFloat(a);switch(a.slice(-2)){case "px":return c;case "pt":return c*b;case "in":return 72*c*b;case "pc":return 12*c*b;case "mm":return c*g.mm_in_pt*b;case "cm":return c*g.cm_in_pt*b}}return parseFloat(a)};c.widgetEquals=function(a,b){if(a===b)return!0;if(!a&&
b||a&&!b)return!1;if(!k.isString(a)&&"id"in a)a=a.id;if(!k.isString(b)&&"id"in b)b=b.id;return a==b};return c});