//>>built
define("idx/app/_HashHandlerMixin","dojo/_base/declare,dojo/_base/declare,dojo/_base/lang,dojo/hash,dojo/io-query,dojo/dom,dijit/registry,dojo/_base/connect".split(","),function(n,o,f,g,i,h,b,p){return n("idx.app._HashHandlerMixin",[],{constructor:function(){},_setupHashHandler:function(){function m(a){try{if(a=a||g()){k=!0;var c=i.queryToObject(a),j=c.context;if(j&&h.isDescendant(h.byId(j),h.byId(e.id+e.CONTAINER_ID_TOP))){b.byId(e.id+e.CONTAINER_ID_TOP).selectChild(j);var d=c.tab;d&&h.isDescendant(h.byId(d),
h.byId(j))&&b.byId(j).selectChild(d);!0==b.byId(d).isLoaded&&(delete c.context,delete c.tab,b.byId(d).context.onNavStateChanged(c))}}}finally{k=!1}}function d(a){var c={};!0==b.byId(a).isLoaded&&(c=b.byId(a).context._navState||{});return c}var e=this,k=!1;this.connect(b.byId(this.id+this.CONTAINER_ID_TOP),"selectChild",function(a){if(!k){var c={};c.context=b.byId(a).id;c.tab=b.byId(a).selectedChildWidget.id;c=f.mixin(c,d(b.byId(a).selectedChildWidget.id));g(i.objectToQuery(c))}});for(var a=b.byId(e.id+
e.CONTAINER_ID_TOP).getChildren(),l=0;l<a.length;l++)(function(a){e.connect(a,"selectChild",function(a){if(!k){var e={context:b.getEnclosingWidget(b.byId(a).domNode.parentNode).id,tab:b.byId(a).id},e=f.mixin(e,d(b.byId(a).id));g(i.objectToQuery(e))}})})(a[l]);p.subscribe("/dojo/hashchange",f.hitch(this,function(a){m(a)}));setTimeout(function(){m(g())},0)},_createItemForHash:function(b){var d=o.safeMixin(b,{_navState:"",setNavState:f.hitch(b,function(b){this._navState=b;var a={context:this.containerId,
tab:this.id},a=f.mixin(a,b);g(i.objectToQuery(a))}),onNavStateChanged:f.hitch(b,function(b){this._navState=b})}),e=b.onLoad;d.onLoad=function(b){e.call(d,b);var a=i.queryToObject(g())||{};a&&a.context&&a.tab&&a.context===d.containerId&&a.tab===d.id&&(delete a.context,delete a.tab,b.context.onNavStateChanged(a))};return d}})});