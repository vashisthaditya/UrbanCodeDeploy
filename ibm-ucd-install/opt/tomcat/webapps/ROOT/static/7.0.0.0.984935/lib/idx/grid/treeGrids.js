//>>built
define("idx/grid/treeGrids","dojo/_base/lang,idx/main,dojo/_base/kernel,dojo/_base/connect,dojo/dom,dojo/dom-attr,dojo/keys,dijit/focus,dojox/grid/TreeGrid,dojox/grid/_TreeView".split(","),function(a,g,p,l,t,m,i,q,n,r){g=a.getObject("grid.treeGrids",!0,g);a.extend(n,{setOpen:function(d,s,a){var e=this._by_idx[parseInt(d.split("/")[0],10)];if(e)for(var e=e.idty,f=0;f<this.views.views.length;f++){var c=this.views.views[f];if(c&&c._expandos&&(c=c._expandos[e])){var h="dojoxGridRowToggle-"+d.replace(/\//g,
"-"),j=c[h];if(j){if(a)var b=null,b=l.connect(j,"_setOpen",function(){b&&(l.disconnect(b),delete b,b=null);a()});j.setOpen(s)}else for(h in c);}}}});var a=n.prototype,o=a.onKeyDown,k=function(d){if((d.ctrlKey||d.metaKey||d.altKey)&&d.shiftKey){var a=p._isBodyLtr(),g=a?i.RIGHT_ARROW:i.LEFT_ARROW,a=a?i.LEFT_ARROW:i.RIGHT_ARROW,e=this.focus.cell.index;switch(d.keyCode){case g:case a:var f=this.focus.rowIndex,c=this,h=function(){c.getCell(e);for(var a=null,b=0;b<c.views.views.length;b++)if(c.views.views[b]instanceof
r){a=c.views.views[b];break}b=a.getCellNode(f,e);c.focus.setFocusIndex("0",0);c.focus.setFocusIndex(f,e);a.focus();m.set(b,"tabindex","0");q.focus(b);m.set(b,"tabindex","-1")};this.setOpen(f,d.keyCode==g,function(){h();setTimeout(h,500)});break;default:this.onKeyDown=o,this.onKeyDown(d),this.onKeyDown=k}}else this.onKeyDown=o,this.onKeyDown(d),this.onKeyDown=k};a.onKeyDown=k;return g});