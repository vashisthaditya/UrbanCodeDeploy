//>>built
define("idx/layout/MenuTabController",["dojo","dijit/registry","dijit/layout/ScrollingTabController"],function(e,g,b){b=e.declare("idx.layout.MenuTabController",[b],{constructor:function(){this.buttonWidget="idx.layout._PopupTabButton";this._watches={};this._connects={}},onAddChild:function(a,f){this.inherited(arguments);var c=a.controlButton,d=this,b=function(e,b,f){b&&d._unbindPopup(a,c.domNode,c.dropdownNode,b);f?(d._bindPopup(a,c.domNode,c.dropdownNode,f),c.set("arrowButton",!0)):c.set("arrowButton",
!1)};b(null,null,a.popup&&c.dropdownNode&&g.byId(a.popup));this._watches[a.id]=a.watch("popup",this,b);this._connects[a.id]=this.connect(c,"onClickArrowButton",e.hitch(this,"onArrowButtonClick",a,c))},onRemoveChild:function(a){this.inherited(arguments);this._connects[a.id]&&(this.disconnect(this._connects[a.id]),delete this._connects[a.id]);this._watches[a.id]&&(this._watches[a.id].unwatch(),delete this._watches[a.id])},_bindPopup:function(a,b,c,d){if("function"==typeof d.bindDomNode)d._openMyself?
(d.leftClickToOpen=!1,d.bindDomNode(b)):(d.bindDomNode(b,{leftClickToOpen:!1}),d.bindDomNode(c,{leftClickToOpen:!0}))},_unbindPopup:function(a,b,c,d){d.unbindDomNode(c)},onArrowButtonClick:function(a,b){a.popup&&a.popup._openMyself&&a.popup._openMyself({target:b.dropdownNode})}});e.declare("idx.layout._PopupTabButton",[dijit.layout._TabButton],{templateString:'<div role="presentation" data-dojo-attach-point="titleNode,innerDiv,tabContent" class="dijitTabInner dijitTabContent"><img src="${_blankGif}" alt="" class="dijitIcon dijitTabButtonIcon" data-dojo-attach-point="iconNode"/><span data-dojo-attach-point="containerNode,focusNode" class="tabLabel"></span><span class="dijitInline dijitTabArrowButton dijitTabArrowIcon" data-dojo-attach-point="dropdownNode" data-dojo-attach-event="onclick: onClickArrowButton, onmouseenter: onMouseEnterArrowButton, onmouseleave: onMouseLeaveArrowButton" role="presentation"><span data-dojo-attach-point="dropdownText" class="dijitTabDropDownText">${tabDropDownText}</span></span><span class="dijitInline dijitTabCloseButton dijitTabCloseIcon" data-dojo-attach-point="closeNode" role="presentation"><span data-dojo-attach-point="closeText" class="dijitTabCloseText">[x]</span></span><span class="idxTabSeparator" aria-hidden="true" data-dojo-attach-point="separatorNode">${tabSeparatorText}</span></div>',
tabDropDownText:"&nbsp;[v]",tabCloseText:"[x]",tabSeparatorText:"",_setCloseButtonAttr:function(a){this.arrowButton?(this._set("closeButton",a),e.toggleClass(this.innerDiv,"dijitClosable",a),this.closeNode.style.display=a?"":"none"):this.inherited(arguments)},_setArrowButtonAttr:function(a){this._set("arrowButton",a);this.dropdownNode.style.display=a?"":"none"},onClickArrowButton:function(a){a.stopPropagation()},onMouseEnterArrowButton:function(a){e.addClass(a.currentTarget,"enter")},onMouseLeaveArrowButton:function(a){e.removeClass(a.currentTarget,
"enter")}});return b});