//>>built
require({cache:{"url:idx/grid/templates/PropertyGrid.html":'<div class="${baseClass}" dojoAttachPoint="containerNode">\r\n<div class="${baseClass}Hidden" dojoAttachPoint="hiddenNode"></div>\r\n<table class="${baseClass}Table" dojoAttachPoint="propTable">\r\n<tbody class="${baseClass}Body" dojoAttachPoint="bodyNode">\r\n</tbody>\r\n</table>\r\n</div>\r\n',"url:idx/grid/templates/_PropertyRow.html":'<tr class="${baseClass} ${baseClass}${posClassSuffix} ${baseClass}${altClassSuffix}">\r\n<th class="${baseClass}Label ${baseClass}Label${posClassSuffix} ${baseClass}Label${altClassSuffix}"><span class="${baseClass}Label ${baseClass}Label${posClassSuffix} ${baseClass}Label${altClassSuffix}" dojoAttachPoint="titleNode"></span><span class="${baseClass}Sep ${baseClass}Sep${posClassSuffix} ${baseClass}Sep${altClassSuffix}">${propertyGrid._resources.labelFieldSeparator}</span></th>\r\n<td class="${baseClass}Value ${baseClass}Value${posClassSuffix} ${baseClass}Value${altClassSuffix}" dojoAttachPoint="valueNode"></td>\r\n</tr>\r\n'}});
define("idx/grid/PropertyGrid","dojo/_base/declare,dijit/_Widget,dijit/_TemplatedMixin,dijit/_Container,dojo/_base/lang,dojo/_base/array,dojo/aspect,dojo/string,dojo/dom-construct,dojo/query,dijit/registry,../string,../util,../resources,./PropertyFormatter,dojo/text!./templates/PropertyGrid.html,dojo/text!./templates/_PropertyRow.html,dojo/NodeList-dom,dojo/i18n!../nls/base,dojo/i18n!./nls/base,dojo/i18n!./nls/PropertyGrid".split(","),function(e,m,n,s,d,o,g,i,h,t,u,f,p,q,j,v,w){var x=new function(){},
k=t.NodeList,r=e("idx.grid._PropertyRow",[m,n],{propertyName:"",propertyType:"",formatter:null,propertyGrid:null,label:"",rowIndex:0,rowCount:1,attributeMap:d.delegate(dijit._Widget.prototype.attributeMap,{title:{node:"titleNode",type:"innerHTML"}}),baseClass:"idxPropertyRow",posClassSuffix:"Solo",altClassSuffix:"Even",templateString:w,constructor:function(){this._started=!1},destroy:function(){this._editHandle&&(this._editHandle.remove(),delete this._editHandle);this._changeHandle&&(this._changeHandle.remove(),
delete this._changeHandle);this._preSaveHandle&&(this._preSaveHandle.remove(),delete this._preSaveHandle);this._postSaveHandle&&(this._postSaveHandle.remove(),delete this._postSaveHandle);this.formatter&&this._ownsFormatter&&(this.formatter.destroyRecursive(),delete this.formatter);this.inherited(arguments)},_setRowIndexAttr:function(a){this.rowIndex=a},postMixInProperties:function(){this.inherited(arguments);var a=f.nullTrim(this.propertyType),b=this.propertyName;a&&(b=b+"("+a+")");if(!this.formatter)this._ownsFormatter=
!0,this.formatter=new j({properties:b,propertyName:this.propertyName,propertyContainer:this.propertyGrid});this.altClassSuffix=0==this.rowIndex%2?"Even":"Odd";this.posClassSuffix=1==this.rowCount?"Solo":0==this.rowIndex?"First":this.rowIndex==this.rowCount-1?"Last":"Middle"},buildRendering:function(){this.inherited(arguments)},startup:function(){if(!this._started)this._ownsFormatter||(new k(this.formatter.domNode)).orphan(),h.place(this.formatter.domNode,this.valueNode,"last"),this._ownsFormatter&&
this.formatter.startup(),this.inherited(arguments),this._changeHandle=g.after(this.formatter,"onChange",d.hitch(this.propertyGrid,"_onChange"),!0)},hasEditors:function(){return 0<this.formatter.getChildren().length},focus:function(){this.formatter.focus()},reformat:function(){this.set("title",this.propertyGrid._getLabel(this.propertyName));this.formatter.refresh()}}),e=e("idx.grid.PropertyGrid",[m,n,s],{data:null,properties:"",resources:null,rawLabels:!1,labelKeyPrefix:"",labelKeySuffix:"",formatFunc:x,
editController:null,baseClass:"idxPropertyGrid",templateString:v,constructor:function(){this._started=!1;this._formatters=[];this._rows=[]},destroy:function(){if(this._formatters){for(field in this._formatters){var a=this._formatters[field];a&&(a.destroyRecursive(),delete this._formatters[field])}delete this_formatters}a=u.findWidgets(this.hiddenNode);o.forEach(a,function(a){a.destroyRecursive();delete a});this.inherited(arguments)},postMixInProperties:function(){p.nullify(this,this.params,["formatFunc",
"labelKeyPrefix","labelKeySuffix"]);this.inherited(arguments);if(!this._rawResources)this._rawResources=null,this._resetResources()},buildRendering:function(){this.inherited(arguments)},postCreate:function(){this.inherited(arguments)},startup:function(){if(!this._started)o.forEach(this.getChildren(),this._setupChild,this),this.inherited(arguments),this._started=!0,this._rebuildRows(),this._registerEditController()},addChild:function(a,b){this.inherited(arguments);this._started&&(this._setupChild(a),
this._rebuildRows())},removeChild:function(a){this.inherited(arguments);this._started&&("number"==typeof a&&0<a&&(a=this.getChildren()[a]),a instanceof j&&(this._formatters[a.get("propertyName")]=null,a.set("propertyContainer",null)),this._rebuildRows())},_setupChild:function(a){this.inherited(arguments);(new k(a.domNode)).orphan();h.place(a.domNode,this.hiddenNode,"last");a instanceof j&&(this._formatters[a.get("propertyName")]=a,a.set("propertyContainer",this))},_setDataAttr:function(a){this.data=
a;this._started&&this._reformat()},_setFormatFuncAttr:function(a){this.formatFunc=a;this._started&&this._reformat()},_setLabelKeyPrefixAttr:function(a){this.labelKeyPrefix=a;this._reformat()},_setLabelKeySuffixAttr:function(a){this.labelKeySuffix=a;this._reformat()},_setLangAttr:function(a){this.inherited(arguments);this.lang=a;this._resetResources()},_setResourcesAttr:function(a){this.resources=a;this._resetResources()},_getResourcesAttr:function(){return this._resources},_setEditControllerAttr:function(a){this.editController=
dijit.byId(a);this._preSaveHandle&&(this._preSaveHandle.remove(),delete this._preSaveHandle);this._postSaveHandle&&(this._postSaveHandle.remove(),delete this._postSaveHandle);if(this.editController)this._preSaveHandle=g.after(this.editController,"onPreSave",d.hitch(this,"_onPreSave"),!0),this._postSaveHandle=g.after(this.editController,"onPostSave",d.hitch(this,"_onPostSave"),!0);if(this._started)this.onEditControllerChanged(a)},_registerEditController:function(){if(this._started&&(this._editHandle&&
(this._editHandle.remove(),delete this._editHandle),this.editController))this._editHandle=g.after(this.editController,"onEdit",d.hitch(this,"_onEdit"),!0)},onEditControllerChanged:function(){this._registerEditController()},_onEdit:function(){for(var a=0;a<this._rows.length;a++){var b=this._rows[a];if(b.hasEditors()){b.focus();break}}},_onChange:function(a,b){this._reformat();if(!this._saving)this.onChange(this.get("data"),this,b)},onChange:function(){},_onPreSave:function(){this._saving=!0},_onPostSave:function(){this._saving=
!1;this.onChange(this.get("data"),this)},_resetResources:function(){var a=q.getResources("idx/grid/PropertyGrid",this.lang);if(this.resources){var b={};d.mixin(b,a);d.mixin(b,this.resources);this._resources=b}else this._resources=a;if(!this._resources.labelFieldSeparator)this._resources.labelFieldSeparator=q.getLabelFieldSeparator("idx/grid/PropertyGrid",this.lang);this._started&&this._reformat()},_setPropertiesAttr:function(a){this.properties=a;this._properties=[];a=0;if(f.nullTrim(this.properties))for(var b=
this.properties.split(","),a=0;a<b.length;a++){var c=i.trim(b[a]),d=null,l=c.indexOf("("),e=c.indexOf(")");0<=l&&e==c.length-1&&(d=c.substring(l+1,e),d=i.trim(d),c=i.trim(c.substring(0,l)));this._properties.push({propName:c,propType:d})}this._rebuildRows()},_rebuildRows:function(){if(this._started){var a=0,b;for(b in this._formatters){var c=this._formatters[b];c.domNode.parentNode!=this.hiddenNode&&((new k(c.domNode)).orphan(),h.place(c.domNode,this.hiddenNode,"last"))}for(a=0;a<this._rows.length;a++)this._rows[a].destroyRecursive(),
h.destroy(this._rows[a].domNode);this._rows=[];for(a=0;a<this._properties.length;a++){c=this._properties[a];b=c.propName;var d=c.propType,e=null;(c=this._formatters[b])&&(e=c.get("title"));f.nullTrim(e)||(e=this._getLabel(b));b={propertyName:b,propertyType:d,propertyGrid:this,title:e,rowIndex:a,rowCount:this._properties.length};if(c)b.formatter=c;this._rows[a]=new r(b);this._rows[a].startup();this._rows[a].placeAt(this.bodyNode,"last")}}},_getLabelKeyPrefix:function(){if(this.labelKeyPrefix)return this.labelKeyPrefix;
var a=this._resources.labelKeyPrefix;return a?a:""},_getLabelKeySuffix:function(){if(this.labelKeySuffix)return this.labelKeySuffix;var a=this._resources.labelKeySuffix;return a?a:""},_getLabel:function(a){if(this.rawLabels)return a;var b=null,b=this._getLabelKeyPrefix(),c=this._getLabelKeySuffix();(b=this._resources[b+a+c])&&"string"!=p.typeOfObject(b)&&(b=null);if(!b&&(c=this._formatters[a]))b=c.get("title"),b=f.nullTrim(b);b||(b=f.propToLabel(a));return b},refresh:function(){this._reformat()},
_reformat:function(){for(var a=0,a=0;a<this._rows.length;a++)this._rows[a].reformat()}});e.PropertyRow=r;return e});