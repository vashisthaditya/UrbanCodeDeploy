//>>built
define("idx/app/Header","dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/aspect,dojo/query,dojo/dom-attr,dojo/dom-class,dojo/dom-construct,dojo/dom-style,dojo/i18n,dojo/keys,dojo/string,dijit/_base/popup,dijit/place,dijit/registry,dijit/_Widget,dijit/_TemplatedMixin,idx/util,idx/resources,dojo/NodeList-dom,dojo/i18n!../nls/base,dojo/i18n!./nls/base,dojo/i18n!./nls/Header".split(","),function(h,C,j,D,i,E,x,c,l,y,M,z,F,G,H,g,I,A,n,J){var r=function(){log.error("dijit/form/Button has been used without being loaded")},
u=function(){log.error("dijit/form/TextBox has been used without being loaded")},B=function(){log.error("idx/layout/MenuTabController has been used without being loaded")};return j.getObject("idx.oneui",!0).Header=C("idx.app.Header",[I,A],{primaryTitle:"",primaryBannerType:"thin",navigation:void 0,showNavigationDropDownArrows:!0,primarySearch:void 0,user:void 0,showUserDropDownArrow:!0,settings:void 0,showSettingsDropDownArrow:!0,help:void 0,showHelpDropDownArrow:!0,secondaryTitle:"",secondaryBannerType:"blue",
secondarySubtitle:"",additionalContext:"",actions:void 0,contentContainer:"",contentTabsInline:!1,secondarySearch:void 0,layoutType:"variable",templateString:'<div role="banner"><div style="visibility: hidden; display: none;" data-dojo-attach-point="containerNode"></div><div data-dojo-attach-point="_mainContainerNode"></div></div>',_getComputedUserName:function(){return this.user&&"function"==typeof this.user.displayName?this.user.displayName():this.user.displayName||""},_getComputedUserImage:function(){return this.user&&
"function"==typeof this.user.displayImage?this.user.displayImage():this.user.displayImage},_getComputedUserMessage:function(){var a=this._getComputedUserName(),b=("function"==typeof this.user.messageName?this.user.messageName():this.user.messageName)||a,e=b;this.user&&this.user.message&&(e="function"==typeof this.user.message?this.user.message():this.user.message,e=F.substitute(e,this.user,function(e,c){switch(c){case "messageName":return b;case "displayName":return a;default:return e||""}}));return e},
_setUserDisplayNameAttr:function(a){this.user=this.user||{};this.user.displayName=a;this._refreshUser()},_setUserDisplayImageAttr:function(a){this.user=this.user||{};this.user.displayImage=a;this._refreshUser()},_setUserMessageNameAttr:function(a){this.user=this.user||{};this.user.messageName=a;this._refreshUser()},_setUserMessageAttr:function(a){this.user=this.user||{};this.user.message=a;this._refreshUser()},_prepareMenu:function(a,b,e,f,K,k){k||(k=[]);if(b){if(b[0]){var g=null,v=i.after(a,"onOpen",
function(){if(a._popupWrapper){if(!a._oneuiWrapper){a._oneuiWrapper=l.create("div",{"class":"idxHeaderContainer "+b[0]},D.body());var e=null,e=i.after(a,"destroy",function(){l.destroy(a._oneuiWrapper);delete a._oneuiWrapper;e&&e.remove()});k.push(e)}a._oneuiWrapper.appendChild(a._popupWrapper)}}),g=i.after(a,"destroy",function(){v&&v.remove();g&&g.remove()});k.push(g);k.push(v)}var o=1<b.length?b.slice(1):b,L=this;h.forEach(a.getChildren(),function(a){a.popup&&L._prepareMenu(a.popup,o,void 0,void 0,
void 0,k);a.currentPage&&c.add(a.domNode,"idxHeaderNavCurrentPage")})}if(f)a._scheduleOpen=function(b,e){if(!this._openTimer){var c=a.isLeftToRight(),g=H.around(G._createWrapper(a),f,K?["below-alt","below","above-alt","above"]:["below","below-alt","above","above-alt"],c,a.orient?j.hitch(a,"orient"):null);c||(g.x+=g.w);this._openTimer=setTimeout(j.hitch(this,function(){delete this._openTimer;this._openMyself({target:b,iframe:e,coords:g})}),1)}},a.leftClickToOpen=!0,e&&a.bindDomNode(e);return k},_refreshUser:function(){if(this.userNode){var a=
this._getComputedUserName(),b=this._getComputedUserImage(),e=this._getComputedUserMessage();x.set(this.userNode,"title",a);x.set(this.userImageNode,"src",b||"");y.set(this.userImageNode,"display",b?"block":"none");this.userTextNode.innerHTML=e;c.replace(this.userNode,e?"idxHeaderUserName":"idxHeaderUserNameNoText","idxHeaderUserName idxHeaderUserNameNoText")}},_injectTemplate:function(a,b){var e=A.getCachedTemplate(b,!0),e=j.isString(e)?l.toDom(this._stringRepl(e)):e.cloneNode(!0);this._attachTemplateNodes(e,
function(a,b){return a.getAttribute(b)});a.appendChild(e)},postMixInProperties:function(){this._nls=J.getResources("idx/app/Header",this.lang)},_setup:function(){this.contentContainer&&this.secondaryBannerType&&"white"==this.secondaryBannerType.toLowerCase()&&require.log('*** Warning: Header will not display content tabs when secondaryBannerType is "white". Specify a different type to see content tabs.');var a=this.primaryTitle,b=this.help,e=this.settings,f=this.user,g=this.navigation,k=this.primarySearch,
i=this.secondaryTitle||this.secondarySubtitle,j=this.contextActions,o=this.secondarySearch,h=this.contentContainer&&(!this.secondaryBannerType||"white"!=this.secondaryBannerType.toLowerCase()),l=h&&(this.contentTabsInline||!i),n=this.secondaryBannerType&&"white"==this.secondaryBannerType.toLowerCase(),m=h&&!l,p=a||!0,w=i||j||o||l,s;if(p||w||m)c.add(this.domNode,"idxHeaderContainer"),this.primaryBannerType&&"thick"==this.primaryBannerType.toLowerCase()?c.add(this._mainContainerNode,"idxHeaderPrimaryThick"):
c.add(this._mainContainerNode,"idxHeaderPrimaryThin"),this.secondaryBannerType&&("lightgrey"==this.secondaryBannerType.toLowerCase()||"lightgray"==this.secondaryBannerType.toLowerCase())?(c.add(this._mainContainerNode,"idxHeaderSecondaryGray"),c.add(this._mainContainerNode,m?"idxHeaderSecondaryGrayDoubleRow":"idxHeaderSecondaryGraySingleRow"),s=p):this.secondaryBannerType&&"white"==this.secondaryBannerType.toLowerCase()?(c.add(this._mainContainerNode,"idxHeaderSecondaryWhite"),c.add(this._mainContainerNode,
m?"idxHeaderSecondaryWhiteDoubleRow":"idxHeaderSecondaryWhiteSingleRow"),s=p):(c.add(this._mainContainerNode,"idxHeaderSecondaryBlue"),c.add(this._mainContainerNode,m?"idxHeaderSecondaryBlueDoubleRow":"idxHeaderSecondaryBlueSingleRow"),s=p&&!w&&!m),c.add(this._mainContainerNode,m?"idxHeaderSecondaryDoubleRow":"idxHeaderSecondarySingleRow"),this.layoutType&&"fixed"==this.layoutType.toLowerCase()?c.add(this._mainContainerNode,"idxHeaderWidthFixed"):c.add(this._mainContainerNode,"idxHeaderWidthLiquid");
var t=[],q=[],d=this;if(k||o||j)t.push("dijit/form/Button"),q.push(function(a){r=a});if(k||o)t.push("dijit/form/TextBox"),q.push(function(a){u=a});h&&(t.push("idx/layout/MenuTabController"),q.push(function(a){B=a}));require(t,function(){for(var c=0;c<q.length;c++)q[c](arguments[c]);p&&d._injectTemplate(d._mainContainerNode,'<div class="idxHeaderPrimary"><div class="idxHeaderPrimaryInner" data-dojo-attach-point="primaryBannerNode"><ul data-dojo-attach-point="_globalActionsNode" role="presentation"></ul></div></div>');
a&&d._renderPrimaryTitle(d._globalActionsNode);d._renderLogo(d._globalActionsNode);b&&d._renderHelp(d._globalActionsNode,e||f);e&&d._renderSettings(d._globalActionsNode,f);f&&d._renderUser(d._globalActionsNode);k&&d._renderPrimarySearch(d._globalActionsNode);g&&d._renderNavigation(d.primaryBannerNode);s&&d._injectTemplate(d._mainContainerNode,'<div class="idxHeaderBlueLip"></div>');w&&d._injectTemplate(d._mainContainerNode,'<div class="idxHeaderSecondary"> <div class="idxHeaderSecondaryInner" data-dojo-attach-point="secondaryBannerNode"></div></div>');
o&&d._renderSecondarySearch(d.secondaryBannerNode);i&&d._renderSecondaryTitle(d.secondaryBannerNode);l&&d._renderContent(d.secondaryBannerNode,!1);j&&d._renderContextActions(d.secondaryBannerNode);n&&d._renderSecondaryInnerBorder(d.secondaryBannerNode);m&&d._renderContent(d._mainContainerNode,!0);0<d._refreshing&&d._refreshing--;0==d._refreshing?d._refreshRequired=!1:d._doRefresh()})},_reset:function(){c.remove(this.domNode,"idxHeaderContainer");c.remove(this._mainContainerNode,"idxHeaderPrimaryThick");
c.remove(this._mainContainerNode,"idxHeaderPrimaryThin");c.remove(this._mainContainerNode,"idxHeaderSecondaryGray");c.remove(this._mainContainerNode,"idxHeaderSecondaryGrayDoubleRow");c.remove(this._mainContainerNode,"idxHeaderSecondaryGraySingleRow");c.remove(this._mainContainerNode,"idxHeaderSecondaryWhite");c.remove(this._mainContainerNode,"idxHeaderSecondaryWhiteDoubleRow");c.remove(this._mainContainerNode,"idxHeaderSecondaryWhiteSingleRow");c.remove(this._mainContainerNode,"idxHeaderSecondaryBlue");
c.remove(this._mainContainerNode,"idxHeaderSecondaryBlueDoubleRow");c.remove(this._mainContainerNode,"idxHeaderSecondaryBlueSingleRow");c.remove(this._mainContainerNode,"idxHeaderSecondaryDoubleRow");c.remove(this._mainContainerNode,"idxHeaderSecondarySingleRow");c.remove(this._mainContainerNode,"idxHeaderWidthFixed");c.remove(this._mainContainerNode,"idxHeaderWidthLiquid");if(this.help)(this.help=g.byId(this.help))&&this.help.placeAt(this.containerNode);this._clearHandles("_helpHandles");if(this.settings)(this.settings=
g.byId(this.settings))&&this.settings.placeAt(this.containerNode);this._clearHandles("_settingsHandles");if(this.user&&this.user.actions)this.user.actions=g.byId(this.user.actions),this.user.actions&&this.user.actions.placeAt(this.containerNode);this._clearHandles("_actionsHandles");if(this.navigation)(this.navigation=g.byId(this.navigation))&&this.navigation.placeAt(this.containerNode);this._clearHandles("_navHandles");this._clearHandles("_controllerHandlers");h.forEach(g.findWidgets(this._mainContainerNode),
function(a){a.destroy()});var a=[];h.forEach(this._mainContainerNode.childNodes,function(b){a.push(b)});h.forEach(a,function(a){l.destroy(a)});this._contextActionsNode=this.additionalContextTextNode=this.secondarySubtitleTextNode=this._secondaryTitleSeparatorNode=this.secondaryTitleTextNode=this.primarySearchButtonNode=this.primarySearchTextNode=this.userTextNode=this.userImageNode=this.userNode=this._settingsNode=this._helpNode=this.secondaryBannerNode=this.primaryBannerNode=this.primaryTitleTextNode=
this._globalActionsNode=null;this.contextActionNodes&&delete this.contextActionNodes;this.contentControllerNode=this.secondarySearchButtonNode=this.secondarySearchTextNode=null},constructor:function(){this._refreshing=0},destroy:function(){if(this.navigation)this.navigation.destroyRecursive?this.navigation.destroyRecursive():this.navigation.destroy&&this.navigation.destroy(),this.navigation=null;this._clearHandles("_navHandles");this._controller&&(this._controller.destroyRecursive?this._controller.destroyRecursive():
this._controller.destroy&&this._controller.destroy(),delete this._controller);this._clearHandles("_controllerHandles");if(this.settings)this.settings.destroyRecursive?this.settings.destroyRecursive():this.settings.destroy&&this.settings.destroy(),this.settings=null;this._clearHandles("_settingsHandles");if(this.help)this.help.destroyRecursive?this.help.destroyRecursive():this.help.destroy&&this.help.destroy(),this.help=null;this._clearHandles("_helpHandles");if(this.user&&this.user.actions)this.user.actions.destroyRecursive?
this.user.actions.destroyRecursive():this.user.actions.destroy&&this.user.actions.destroy(),this.user=this.user.actions=null;this._clearHandles("_actionsHandles");this.inherited(arguments)},_clearHandles:function(a){a in this&&(h.forEach(this[a],function(a){a.remove()}),delete this[a])},buildRendering:function(){this.inherited(arguments);this._setup()},_setContentTabsInlineAttr:function(a){var b=this.contentTabsInline;this.contentTabsInline=a;b!=a&&this._refresh()},_setContentContainerAttr:function(a){var b=
this.contentContainer;this.contentContainer=a;n.widgetEquals(b,a)||this._refresh()},_setActionsAttr:function(a){var b=this.actions;this.actions=a;b!==a&&this._refresh()},_setAdditionalContextAttr:function(a){var b=this.additionalContextTextNode;this.additionalContext=a;if(b)b.innerHTML=a?a:""},_setSecondaryBannerTypeAttr:function(a){var b=this.secondaryBannerType;this.secondaryBannerType=a;b!=a&&this._refresh()},_setPrimaryTitleAttr:function(a){var b=this.primaryTitle,c=this.primaryTitleTextNode;
if((this.primaryTitle=a)&&!b||b&&!a)this._refresh();else if(c&&a)c.innerHTML=a},_setSecondaryTitleAttr:function(a){var b=this.secondaryTitle,c=this.secondaryTitleTextNode;if((this.secondaryTitle=a)&&!b||b&&!a)this._refresh();else if(c&&a)c.innerHTML=a},_setLayoutTypeAttr:function(a){this.layoutType=a;this._mainContainerNode&&(this.layoutType&&"fixed"==this.layoutType.toLowerCase()?c.add(this._mainContainerNode,"idxHeaderWidthFixed"):c.add(this._mainContainerNode,"idxHeaderWidthLiquid"))},_setSecondarySubtitleAttr:function(a){var b=
this.secondarySubtitle,c=this.secondarySubtitleTextNode;if((this.secondarySubtitle=a)&&!b||b&&!a)this._refresh();else if(c&&a)c.innerHTML=a},_setShowHelpDropDownArrowAttr:function(a){this.showHelpDropDownArrow=a;this._helpNode&&c.toggle(this._helpNode,"idxHeaderDropDown",this.showHelpDropDownArrow)},_setShowSettingsDropDownArrowAttr:function(a){this.showSettingsDropDownArrow=a;this._settingsNode&&c.toggle(this._settingsNode,"idxHeaderDropDown",this.showSettingsDropDownArrow)},_setShowUserDropDownArrowAttr:function(a){this.showUserDropDownArrow=
a;this.userNode&&c.toggle(this.userNode,"idxHeaderDropDown",this.showUserDropDownArrow)},_setUserAttr:function(a){var b=this.user;this.user=a;b!==a&&(b&&!a||a&&!b?this._refresh():b&&b.actions!==a.actions?this._refresh():this._refreshUser())},_setShowNavigationDropDownArrowsAttr:function(a){var b=this.showNavigationDropDownArrows;this.showNavigationDropDownArrows=a;b!=a&&this._refresh()},_setPrimarySearchAttr:function(a){var b=this.primarySearch;this.primarySearch=a;b!==a&&this._refresh()},_setSecondarySearchAttr:function(a){var b=
this.secondarySearch;this.secondarySearch=a;b!==a&&this._refresh()},_setNavigationAttr:function(a){var b=this.navigation;this.navigation=a;n.widgetEquals(b,a)||this._refresh()},_setSettingsAttr:function(a){var b=this.settings;this.settings=a;n.widgetEquals(b,a)||this._refresh()},_setHelpAttr:function(a){var b=this.help;this.help=a;n.widgetEquals(b,a)||this._refresh()},deferRefresh:function(){this._refreshDeferred=!0},refresh:function(){if(this._refreshDeferred)this._refreshDeferred=!1;this._refreshRequired&&
this._refresh()},_refresh:function(){this._refreshRequired=!0;this._started&&!this._refreshDeferred&&(this._refreshing++,1==this._refreshing&&this._doRefresh())},_doRefresh:function(){this._reset();this._setup()},_setupChild:function(a){a=children[index];if("region"in a)switch(a.region){case "navigation":this.set("navigation",a);break;case "settings":this.set("settings",a);break;case "help":this.set("help",a)}},addChild:function(a){this.inherited(arguments);this._setupChild(a)},removeChild:function(a){a===
this.help&&this.set("help",null);a===this.navigation&&this.set("navigation",null);a===this.settings&&this.set("settings",null);this.inherited(arguments)},startup:function(){this.inherited(arguments);this.deferRefresh();for(var a=this.getChildren(),b=0;b<a.length;b++)this._setupChild(a[b]);this.refresh()},_renderPrimaryTitle:function(a){this._injectTemplate(a,'<li><span><div class="idxHeaderPrimaryTitle" data-dojo-attach-point="primaryTitleTextNode">${primaryTitle}</div></span></li>')},_renderLogo:function(a){this._injectTemplate(a,
'<li class="idxHeaderPrimaryAction idxHeaderEnd"><span><div class="idxHeaderLogoBox"><div class="idxHeaderLogo" alt="${_nls.ibmlogo}"><span class="idxTextAlternative">${_nls.ibmlogo}</span></div></div></span></li>')},_renderHelp:function(a,b){this._injectTemplate(a,'<li class="idxHeaderPrimaryAction idxHeaderHelp"><a tabindex="3" href="javascript://" data-dojo-attach-point="_helpNode" title="${_nls.actionHelp}"><span class="idxHeaderHelpIcon"><span class="idxTextAlternative">${_nls.actionHelp}</span></span><span class="idxHeaderDropDownArrow"><span class="idxTextAlternative">(v)</span></span></a></li>');
b&&this._injectTemplate(a,'<li class="idxHeaderPrimaryAction idxHeaderSeparator"><span></span></li>');if(this.help)this.help=g.byId(this.help),this._clearHandles("_helpHandles"),this._helpHandles=this._prepareMenu(this.help,["oneuiHeaderGlobalActionsMenu","oneuiHeaderGlobalActionsSubmenu"],this._helpNode,this._helpNode,!0),c.toggle(this._helpNode,"idxHeaderDropDown",this.showHelpDropDownArrow)},_renderSettings:function(a,b){this._injectTemplate(a,'<li class="idxHeaderPrimaryAction idxHeaderTools"><a tabindex="2" href="javascript://" data-dojo-attach-point="_settingsNode" title="${_nls.actionShare}"><span class="idxHeaderShareIcon"><span class="idxTextAlternative">${_nls.actionShare}</span></span><span class="idxHeaderDropDownArrow"><span class="idxTextAlternative">(v)</span></span></a></li>');
b&&this._injectTemplate(a,'<li class="idxHeaderPrimaryAction idxHeaderSeparator"><span></span></li>');if(this.settings)this.settings=g.byId(this.settings),this._clearHandles("_settingsHandles"),this._settingsHandles=this._prepareMenu(this.settings,["oneuiHeaderGlobalActionsMenu","oneuiHeaderGlobalActionsSubmenu"],this._settingsNode,this._settingsNode,!0),c.toggle(this._settingsNode,"idxHeaderDropDown",this.showSettingsDropDownArrow)},_renderUser:function(a){this._injectTemplate(a,'<li class="idxHeaderPrimaryAction"><a tabindex="1" href="javascript://" data-dojo-attach-point="userNode" class="idxHeaderUserNameNoText"><span class="idxHeaderUserIcon"><img data-dojo-attach-point="userImageNode" class="idxHeaderUserIcon" alt="" /></span><span class="idxHeaderUserText" data-dojo-attach-point="userTextNode"></span><span class="idxHeaderDropDownArrow"><span class="idxTextAlternative">(v)</span></span></a></li>');
this._refreshUser();if(this.user&&this.user.actions)this.user.actions=g.byId(this.user.actions),this._clearHandles("_actionsHandles"),this._actionsHandles=this._prepareMenu(this.user.actions,["oneuiHeaderGlobalActionsMenu","oneuiHeaderGlobalActionsSubmenu"],this.userNode,this.userNode,!0),c.toggle(this.userNode,"idxHeaderDropDown",this.showUserDropDownArrow)},_renderNavigation:function(a){if(this.navigation="object"==typeof this.navigation&&"nodeType"in this.navigation?g.byNode(this.navigation):g.byId(this.navigation)){this.navigation.placeAt(a);
this.navigation.startup();a=this.navigation.getChildren();if(1==a.length&&""==a[0].label)c.toggle(a[0].containerNode,"idxHeaderNavigationHome",!0);else if(this.showNavigationDropDownArrows)for(var b=0;b<a.length;b++)if(a[b].popup){var e=E(".idxHeaderDropDownArrow",a[b].focusNode);c.toggle(a[b].domNode,"idxHeaderDropDown",!0);0<e.length||this._injectTemplate(a[b].focusNode,'<span class="idxHeaderDropDownArrow"><span class="idxTextAlternative">(v)</span></span>')}for(a=this.navigation.domNode.firstChild;a;)b=
a,a=a.nextSibling,3==b.nodeType&&!b.nodeValue.match(/\S/)&&this.navigation.domNode.removeChild(b);this._clearHandles("_navHandles");this._navHandles=this._prepareMenu(this.navigation,[null,"oneuiHeaderNavigationMenu","oneuiHeaderNavigationSubmenu"])}else require.log("WARNING: navigation widget not found")},_renderPrimarySearch:function(a){this._injectTemplate(a,'<li role="search" class="idxHeaderSearchContainer"><input type="text" data-dojo-attach-point="primarySearchTextNode" /><input type="image" data-dojo-attach-point="primarySearchButtonNode" /></li>');
this.primarySearch.onChange=j.isFunction(this.primarySearch.onChange)?this.primarySearch.onChange:new Function("value",this.primarySearch.onChange);this.primarySearch.onSubmit=j.isFunction(this.primarySearch.onSubmit)?this.primarySearch.onSubmit:new Function("value",this.primarySearch.onSubmit);var b=this,a="entryPrompt"in this.primarySearch?this.primarySearch.entryPrompt:this._nls.searchEntry,c="submitPrompt"in this.primarySearch?this.primarySearch.submitPrompt:this._nls.searchSubmit,f=new u({trim:!0,
placeHolder:a,intermediateChanges:!0,title:a},this.primarySearchTextNode);f.own(i.after(f,"onChange",function(){b._onPrimarySearchChange(f.attr("value"))}));f.own(i.after(f,"onKeyUp",function(a){a.keyCode==z.ENTER&&b._onPrimarySearchSubmit(f.attr("value"))}));a=new r({label:c,showLabel:!1,iconClass:"idxHeaderSearchButton"},this.primarySearchButtonNode);a.own(i.after(a,"onClick",function(){b._onPrimarySearchSubmit(f.attr("value"))}))},_renderSecondaryTitle:function(a){this._injectTemplate(a,'<span class="idxHeaderSecondaryTitleContainer"><span class="idxHeaderSecondaryTitle" data-dojo-attach-point="secondaryTitleTextNode">${secondaryTitle}</span><span class="idxHeaderSecondarySubtitle" data-dojo-attach-point="_secondaryTitleSeparatorNode">&nbsp;&ndash;&nbsp;</span><span class="idxHeaderSecondarySubtitle" data-dojo-attach-point="secondarySubtitleTextNode">${secondarySubtitle}</span>&nbsp;&nbsp;<span class="idxHeaderSecondaryAdditionalContext" data-dojo-attach-point="additionalContextTextNode">${additionalContext}</span></span>');
y.set(this._secondaryTitleSeparatorNode,"display",this.secondaryTitle&&this.secondarySubtitle?"":"none")},_renderContextActions:function(a){this._injectTemplate(a,'<div class="idxHeaderSecondaryActions" data-dojo-attach-point="_contextActionsNode"></div>');this.contextActionNodes=[];for(a=0;a<this.contextActions.length;a++)this._injectTemplate(this._contextActionsNode,'<button type="button" data-dojo-attach-point="_nextActionNode"></button>'),new r(this.contextActions[a],this._nextActionNode),this.contextActionNodes.push(this._nextActionNode),
delete this._nextActionNode},_renderSecondarySearch:function(a){this._injectTemplate(a,'<div role="search" class="idxHeaderSearchContainer"><input type="text" data-dojo-attach-point="secondarySearchTextNode" /><input type="image" data-dojo-attach-point="secondarySearchButtonNode" /></div>');this.secondarySearch.onChange=j.isFunction(this.secondarySearch.onChange)?this.secondarySearch.onChange:new Function("value",this.secondarySearch.onChange);this.secondarySearch.onSubmit=j.isFunction(this.secondarySearch.onSubmit)?
this.secondarySearch.onSubmit:new Function("value",this.secondarySearch.onSubmit);var b=this,a="entryPrompt"in this.secondarySearch?this.secondarySearch.entryPrompt:this._nls.searchEntry,c="submitPrompt"in this.secondarySearch?this.secondarySearch.submitPrompt:this._nls.searchSubmit,f=new u({trim:!0,placeHolder:a,intermediateChanges:!0,title:a},this.secondarySearchTextNode);f.own(i.after(f,"onChange",function(){b._onSecondarySearchChange(f.attr("value"))}));f.own(i.after(f,"onKeyUp",function(a){a.keyCode==
z.ENTER&&b._onSecondarySearchSubmit(f.attr("value"))}));a=new r({label:c,showLabel:!1,iconClass:"idxHeaderSearchButton"},this.secondarySearchButtonNode);a.own(i.after(a,"onClick",function(){b._onSecondarySearchSubmit(f.attr("value"))}))},_renderSecondaryInnerBorder:function(a){this._injectTemplate(a,'<div class="idxHeaderSecondaryInnerBorder"></div>')},_renderContent:function(a,b){this._injectTemplate(a,'<div class="oneuiContentContainer">'+(b?'<div class="oneuiContentContainerInner">':"")+'<div data-dojo-attach-point="contentControllerNode"></div>'+
(b?"</div>":"")+"</div>");var c=new B({containerId:"string"===typeof this.contentContainer?this.contentContainer:this.contentContainer.id,"class":"dijitTabContainerTop-tabs",useMenu:this._tabMenu,useSlider:this._tabSlider,buttonWidget:j.extend(idx.layout._PopupTabButton,{tabDropDownText:"",tabSeparatorText:"|"})},this.contentControllerNode),f=this;this._clearHandles("_controllerHandles");this._controllerHandles=this._prepareMenu(c._menuBtn,["oneuiHeader2ndLevMenu","oneuiHeader2ndLevSubmenu"]);this._controllerHandles.push(i.after(c,
"_bindPopup",function(a,b,c,e){f._prepareMenu(e,["oneuiHeader2ndLevMenu","oneuiHeader2ndLevSubmenu"],c,b,this._controllerHandles)},!0));c.startup();this._controller=c;var h=g.byId(this.contentContainer);if(h&&h._started)c.onStartup({children:h.getChildren(),selected:h.selectedChildWidget})},_onPrimarySearchChange:function(a){this.primarySearch.onChange(a)},_onPrimarySearchSubmit:function(a){this.primarySearch.onSubmit(a)},_onSecondarySearchChange:function(a){this.secondarySearch.onChange(a)},_onSecondarySearchSubmit:function(a){this.secondarySearch.onSubmit(a)}})});