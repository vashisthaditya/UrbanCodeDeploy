//>>built
define("idx/form/buttons","dojo/_base/lang,idx/main,dojo/string,dojo/dom-class,dojo/dom-attr,dojo/aspect,dojo/_base/event,dijit/form/Button,dojo/data/ItemFileReadStore,../string,../resources,dojo/i18n!../nls/base,dojo/i18n!./nls/base,dojo/i18n!./nls/buttons,../ext".split(","),function(i,f,q,e,j,k,r,l,s,g,t){var d=i.getObject("form.buttons",!0,f);d._displayModes={labelOnly:{showIcon:!1,showLabel:!0,cssClass:"idxButtonLabelOnly"},iconOnly:{showIcon:!0,showLabel:!1,cssClass:"idxButtonIconOnly"},iconAndLabel:{showIcon:!0,
showLabel:!0,cssClass:"idxButtonIconAndLabel"}};var u=d._displayModes;d._buttonProfiles={standard:{cssClass:null},compact:{cssClass:"idxButtonCompact"}};var v=d._buttonProfiles;d._buttonPlacements={primary:{cssClass:null,defaultDisplayMode:"iconAndLabel",defaultProfile:"standard"},secondary:{cssClass:"idxButtonSecondary",defaultDisplayMode:"labelOnly",defaultProfile:"standard"},toolbar:{cssClass:"idxButtonToolbar",defaultDisplayMode:"iconOnly",defaultProfile:"standard"},special:{cssClass:"idxButtonSpecial",
defaultDisplayMode:"iconAndLabel",defaultProfile:"standard"}};var h=d._buttonPlacements;d.setDefaultDisplayMode=function(a,b){if(!u[a])throw Error("Invalid mode display mode name: "+a);if(b){var c=h[b];if(!c)throw Error("Invalid button placement name: "+b);c.defaultDisplayMode=a}else for(b in h)h[b].defaultDisplayMode=a};d.setDefaultProfile=function(a,b){if(!v[a])throw Error("Invalid mode profile name: "+a);if(b){var c=h[b];if(!c)throw Error("Invalid button placement: "+c);c.defaultProfile=a}else for(b in h)h[b].defaultProfile=
a};d._stdButtonTypes={close:{iconClass:"idxCloseIcon",labelKey:"closeLabel",titleKey:"closeTip"},configure:{iconClass:"idxConfigureIcon",labelKey:"configureLabel",titleKey:"configureTip"},edit:{iconClass:"idxEditIcon",labelKey:"editLabel",titleKey:"editTip"},filter:{iconClass:"idxFilterIcon",labelKey:"filterLabel",titleKey:"filterTip"},clearFilter:{iconClass:"idxClearFilterIcon",labelKey:"clearFilterLabel",titleKey:"clearFilterTip"},toggleFilter:{toggleButtonTypes:["filter","clearFilter"]},help:{iconClass:"idxHelpIcon",
labelKey:"helpLabel",titleKey:"helpTip"},info:{iconClass:"idxInfoIcon",labelKey:"infoLabel",titleKey:"infoTip"},minimize:{iconClass:"idxMinimizeIcon",labelKey:"minimizeLabel",titleKey:"minimizeTip"},maximize:{iconClass:"idxMaximizeIcon",labelKey:"maximizeLabel",titleKey:"maximizeTip"},print:{iconClass:"idxPrintIcon",labelKey:"printLabel",titleKey:"printTip"},refresh:{iconClass:"idxRefreshIcon",labelKey:"refreshLabel",titleKey:"refreshTip"},restore:{iconClass:"idxRestoreIcon",labelKey:"restoreLabel",
titleKey:"restoreTip"},maxRestore:{toggleButtonTypes:["maximize","restore"]},nextPage:{iconClass:"idxNextPageIcon",labelKey:"nextPageLabel",titleKey:"nextPageTip"},previousPage:{iconClass:"idxPreviousPageIcon",labelKey:"previousPageLabel",titleKey:"previousPageTip"},lastPage:{iconClass:"idxLastPageIcon",labelKey:"lastPageLabel",titleKey:"lastPageTip"},firstPage:{iconClass:"idxFirstPageIcon",labelKey:"firstPageLabel",titleKey:"firstPageTip"}};d.getButtonTypes=function(){var a=[];for(field in d._stdButtonTypes)a.push(field);
return a};d.getButtonTypeStore=function(a){var b={identifier:"value",label:"name",items:[]};a&&b.items.push({name:"[none]",value:" "});for(field in d._stdButtonTypes)b.items.push({name:field,value:field});return new s({data:b})};var f=l.prototype,m=f._setLabelAttr,n=f._setIconClassAttr,o=f._setShowLabelAttr;f._setLabelAttr=function(a){if(!this._started&&!("_explicitLabel"in this)&&this.params&&"label"in this.params)this._explicitLabel=this.params.label;var b=this._applyingButtonType;this._applyingButtonType=
!1;if(b){var c=this._explicitLabel;if(g.nullTrim(c))a=this.label=c}else this._explicitLabel=a;m?(c=this._setLabelAttr,this._setLabelAttr=m,this.set("label",a),this._setLabelAttr=c):(this.label=a,this._attrToDom&&"label"in this.attributeMap&&this._attrToDom("label",a));!b&&!g.nullTrim(this.label)&&this._buttonTypes&&this._applyButtonTypeLabel(this._buttonTypes[this._toggleIndex])};f._setIconClassAttr=function(a){if(!this._started&&!("_explicitIconClass"in this)&&this.params&&"iconClass"in this.params&&
"dijitNoIcon"!=this.params.iconClass)this._explicitIconClass=this.params.iconClass;var b=this._applyingButtonType;this._applyingButtonType=!1;if(b){var c=this._explicitIconClass;g.nullTrim(c)?(a=this.iconClass=c,e.remove(this.domNode,"idxButtonIcon")):e.add(this.domNode,"idxButtonIcon")}else if(e.remove(this.domNode,"idxButtonIcon"),"dijitNoIcon"!=a)this._explicitIconClass=a;n?(c=this._setIconClassAttr,this._setIconClassAttr=n,this.set("iconClass",a),this._setIconClassAttr=c):(this.iconClass=a,this._attrToDom&&
"iconClass"in this.attributeMap&&this._attrToDom("iconClass",a));!b&&!g.nullTrim(this.iconClass)&&this._buttonTypes&&this._applyButtonTypeIconClass(this._buttonTypes[this._toggleIndex])};f._setShowLabelAttr=function(a){if(!this._started&&this.params&&"showLabel"in this.params&&!("_explicitShowLabel"in this))this._explicitShowLabel=this.params.showLabel;var b=this._applyingDisplayMode;this._applyingDisplayMode=!1;if(!b)this._explicitShowLabel=a;o?(b=this._setShowLabelAttr,this._setShowLabelAttr=o,
this.set("showLabel",a),this._setShowLabelAttr=b):this.showLabel=a};var p=f.idxAfterBuildRendering;f.idxAfterBuildRendering=function(){p&&p.call(this);this._displayMode&&this._applyDisplayMode(this._displayMode);this._placement&&this._applyPlacement(this._placement);this._profile&&this._applyProfile(this._profile);this.valueNode&&this.valueNode!=this.focusNode&&e.contains(this.valueNode,"dijitOffScreen")&&!g.nullTrim(j.get(this.valueNode,"role"))&&!g.nullTrim(j.get(this.valueNode,"wairole"))&&j.set(this.valueNode,
{role:"presentation",wairole:"presentation"})};i.extend(l,{idxBaseClass:"idxButtonDerived",buttonType:"",placement:"",displayMode:"",profile:"",_getIDXResources:function(){if(!this._idxResources)this._idxResources=t.getResources("idx/form/buttons",this.lang);return this._idxResources},_removeButtonType:function(){var a="_explicitLabel"in this?this._explicitLabel:"";this.set("iconClass","_explicitIconClass"in this?this._explicitIconClass:"");this.set("label",a)},_applyButtonTypeLabel:function(a){(a=
this._getIDXResources()[a.labelKey])||(a="");this._applyingButtonType=!0;this.set("label",a);this._applyingButtonType=!1},_applyButtonTypeIconClass:function(a){(a=a.iconClass)||(a="");this._applyingButtonType=!0;this.set("iconClass",a);this._applyingButtonType=!1},_applyButtonTypeTitle:function(a){(a=this._getIDXResources()[a.titleKey])||(a="");this._applyingButtonType=!0;this.set("title",a);this._applyingButtonType=!1},_applyButtonType:function(a){this._applyButtonTypeLabel(a);this._applyButtonTypeIconClass(a);
this._applyButtonTypeTitle(a)},_applyDisplayModeShowLabel:function(a){this._applyingDisplayMode=!0;this.set("showLabel",a);this._applyingDisplayMode=!1},_applyDisplayMode:function(a){this._displayMode=a;var b=a.showLabel,c=a.showIcon;(a=a.cssClass)&&e.add(this.domNode,a);c||e.add(this.domNode,"idxButtonHideIcon");this._applyDisplayModeShowLabel(b)},_removeDisplayMode:function(){if(this._displayMode){var a=this._displayMode.showLabel,a=this._displayMode.showIcon,b=this._displayMode.cssClass;b&&e.remove(this.domNode,
b);a||e.remove(this.domNode,"idxButtonHideIcon");a="_explicitShowLabel"in this?this._explicitShowLabel:!0;this.set("showLabel",a)}},_applyPlacementDisplayMode:function(a){(a=a.defaultDisplayMode)||(a="");this._applyingPlacement=!0;this.set("displayMode",a);this._applyingPlacement=!1},_applyProfile:function(a){this._profile=a;(a=a.cssClass)&&e.add(this.domNode,a)},_removeProfile:function(){if(this._profile){var a=this._profile.cssClass;a&&e.remove(this.domNode,a)}},_applyPlacementProfile:function(a){(a=
a.defaultProfile)||(a="");this._applyingPlacement=!0;this.set("profile",a);this._applyingPlacement=!1},_applyPlacement:function(a){this._placement=a;var b=a.cssClass;b&&e.add(this.domNode,b);this._applyPlacementDisplayMode(a);this._applyPlacementProfile(a)},_removePlacement:function(){if(this._placement){var a=this._placement.cssClass,b=this._placement.defaultDisplayMode;a&&e.remove(this.domNode,a);b="_explicitDisplayMode"in this?this._explicitDisplayMode:"";this.set("displayMode",b)}},_buttonTypeClick:function(a){var b=
this.buttonType;this._toggleButtonTypes&&1<this._toggleButtonTypes.length&&(b=this._toggleButtonTypes[this._toggleIndex]);this.onButtonTypeClick(a,b);this._toggleButtonType()},onButtonTypeClick:function(){},_buttonTypeDblClick:function(a){var b=this.buttonType;this._toggleButtonTypes&&1<this._toggleButtonTypes.length&&(b=this._toggleButtonTypes[this._toggleIndex]);this.onButtonTypeDblClick(a,b);this._toggleButtonType()},onButtonTypeDblClick:function(){},_toggleButtonType:function(){if(this._buttonTypes&&
!(2>this._buttonTypes.length)){this._removeButtonType(this._buttonTypes[this._toggleIndex]);this._toggleIndex++;if(this._toggleIndex>=this._buttonTypes.length)this._toggleIndex=0;this._applyButtonType(this._buttonTypes[this._toggleIndex])}},_setButtonTypeAttr:function(a){if(!this._hasButtonTypeClickHandle){this._hasButtonTypeClickHandle=!0;var b=i.hitch(this,this._buttonTypeClick);this.own(k.after(this,"onClick",b,!0))}if(!this._hasButtonTypeDblClickHandle)this._hasButtonTypeDblClickHandle=!0,b=i.hitch(this,
this._buttonTypeDblClick),this.own(k.after(this,"onDblClick",b,!0));this.buttonType=q.trim(a);b=d._stdButtonTypes;a=b[a];if(this._buttonTypes){var c=this._buttonTypes[this._toggleIndex];this._buttonTypes=null;this._removeButtonType(c)}if(a){if(a.toggleButtonTypes){this._buttonTypes=[];for(var c=a.toggleButtonTypes,e=0;e<c.length;e++)this._buttonTypes.push(b[c[e]]);this._toggleButtonTypes=a.toggleButtonTypes}else this._buttonTypes=[a],this._toggleButtonTypes=[this.buttonType];this._toggleIndex=0;c=
this._buttonTypes[this._toggleIndex];this._applyButtonType(c)}else this._buttonTypes=null},_setPlacementAttr:function(a){this._removePlacement();if(this.placement=a)(a=d._buttonPlacements[this.placement])&&this._applyPlacement(a)},_setDisplayModeAttr:function(a){if(!this._started&&!("_explicitDisplayMode"in this)&&this.params&&"displayMode"in this.params)this._explicitDisplayMode=this.params.displayMode;var b=this._applyingPlacement;this._applyingPlacement=!1;if(b){var c=this._explicitDisplayMode;
if(g.nullTrim(c))this.displayMode=a=c}else this._explicitDisplayMode=a;this._removeDisplayMode();if(this.displayMode=a)(this._displayMode=a=d._displayModes[this.displayMode])&&this._applyDisplayMode(a);!b&&!g.nullTrim(this.displayMode)&&this._placement&&this._applyPlacementDisplayMode(this._placement)},_setProfileAttr:function(a){if(!this._started&&!("_explicitProfile"in this)&&this.params&&"profile"in this.params)this._explicitProfile=this.params.profile;var b=this._applyingPlacement;this._applyingPlacement=
!1;if(b){var c=this._explicitProfile;if(g.nullTrim(c))this.profile=a=c}else this._explicitProfile=a;this._removeProfile();if(this.profile=a)(this._profile=a=d._buttonProfiles[this.profile])&&this._applyProfile(a);!b&&!g.nullTrim(this.profile)&&this._placement&&this._applyPlacementProfile(this._placement)},_killEvent:function(a){a&&r.stop(a)}});return d});