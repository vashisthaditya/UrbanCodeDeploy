//>>built
define("idx/layout/ToggleSplitter","dojo/_base/array,dojo/_base/declare,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/keys,dojo/_base/lang,dojo/_base/event,dijit/dijit,dijit/_Widget".split(","),function(i,l,g,o,f,j,k,m,h,n){k.extend(n,{toggleSplitterState:"full",toggleSplitterFullSize:"",toggleSplitterCollapsedSize:""});return l("idx.layout.ToggleSplitter",[h.layout._Splitter],{state:"full",_closedSize:"0",baseClass:"dojoxToggleSplitter",templateString:'<div class="dijitSplitter dojoxToggleSplitter" dojoAttachEvent="onkeypress:_onKeyPress,onmousedown:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse"><div dojoAttachPoint="toggleNode" class="dijitSplitterThumb dojoxToggleSplitterIcon" tabIndex="0" role="separator" dojoAttachEvent="onmousedown:_onToggleNodeMouseDown,onclick:_toggle,onmouseenter:_onToggleNodeMouseMove,onmouseleave:_onToggleNodeMouseMove,onfocus:_onToggleNodeMouseMove,onblur:_onToggleNodeMouseMove"><span class="dojoxToggleSplitterA11y" dojoAttachPoint="a11yText"></span></div></div>',
postCreate:function(){this.inherited(arguments);var a=this.region;g.add(this.domNode,this.baseClass+a.charAt(0).toUpperCase()+a.substring(1))},startup:function(){this.inherited(arguments);var a=this.child.domNode,b=f.get(a,this.horizontal?"height":"width");h.setWaiState(this.domNode,"controls",a.id);i.forEach(["toggleSplitterState","toggleSplitterFullSize","toggleSplitterCollapsedSize"],function(a){var b=a.substring(14),b=b.charAt(0).toLowerCase()+b.substring(1);a in this.child&&(this[b]=this.child[a])},
this);if(!this.fullSize)this.fullSize="full"==this.state?b+"px":"75px";this._openStyleProps=this._getStyleProps(a,"full");this._started=!0;this.set("state",this.state);return this},_onKeyPress:function(a){"full"==this.state&&this.inherited(arguments);(a.charCode==j.SPACE||a.keyCode==j.ENTER)&&this._toggle(a)},_onToggleNodeMouseDown:function(a){m.stop(a);this.toggleNode.focus()},_startDrag:function(a){"full"==this.state&&this.inherited(arguments)},_stopDrag:function(a){this.inherited(arguments);this.toggleNode.blur()},
_toggle:function(){var a;switch(this.state){case "full":a=this.collapsedSize?"collapsed":"closed";break;case "collapsed":a="closed";break;default:a="full"}this.set("state",a)},_onToggleNodeMouseMove:function(a){var b=this.region.toLowerCase(),b=this.baseClass+b.charAt(0).toUpperCase()+b.substring(1),c=this.toggleNode,d="full"==this.state||"collapsed"==this.state,a="mouseout"==a.type||"blur"==a.type;g.toggle(c,b+"IconOpen",a&&d);g.toggle(c,b+"IconOpenHover",!a&&d);g.toggle(c,b+"IconClosed",a&&!d);
g.toggle(c,b+"IconClosedHover",!a&&!d)},_handleOnChange:function(){var a=this.child.domNode,b,c,d=this.horizontal?"height":"width";if("full"==this.state)b=k.mixin({display:"block",overflow:"auto",visibility:"visible"},this._openStyleProps),b[d]=this._openStyleProps&&this._openStyleProps[d]?this._openStyleProps[d]:this.fullSize,f.set(this.domNode,"cursor",""),f.set(a,b);else if("collapsed"==this.state)c=dojo.getComputedStyle(a),this._openStyleProps=b=this._getStyleProps(a,"full",c),f.set(this.domNode,
"cursor","auto"),f.set(a,d,this.collapsedSize);else{if(!this.collapsedSize)c=dojo.getComputedStyle(a),this._openStyleProps=b=this._getStyleProps(a,"full",c);d=this._getStyleProps(a,"closed",c);f.set(this.domNode,"cursor","auto");f.set(a,d)}this._setStateClass();this.container._started&&this.container._layoutChildren(this.region)},_getStyleProps:function(a,b,c){c||(c=dojo.getComputedStyle(a));var d={},e=this.horizontal?"height":"width";d.overflow="closed"!=b?c.overflow:"hidden";d.visibility="closed"!=
b?c.visibility:"hidden";d[e]="closed"!=b?a.style[e]||c[e]:this._closedSize;var g=["Top","Right","Bottom","Left"];i.forEach(["padding","margin","border"],function(a){for(var e=0;e<g.length;e++){var f=a+g[e];"border"==a&&(f+="Width");void 0!==c[f]&&(d[f]="closed"!=b?c[f]:0)}});return d},_setStateClass:function(){var a="&#9652",b=this.region.toLowerCase(),c=this.baseClass+b.charAt(0).toUpperCase()+b.substring(1),d=this.toggleNode,e="full"==this.state||"collapsed"==this.state,f=this.focused;g.toggle(d,
c+"IconOpen",e&&!f);g.toggle(d,c+"IconClosed",!e&&!f);g.toggle(d,c+"IconOpenHover",e&&f);g.toggle(d,c+"IconClosedHover",!e&&f);if("top"==b&&e||"bottom"==b&&!e)a="&#9650";else if("top"==b&&!e||"bottom"==b&&e)a="&#9660";else if("right"==b&&e||"left"==b&&!e)a="&#9654";else if("right"==b&&!e||"left"==b&&e)a="&#9664";this.a11yText.innerHTML=a},_setStateAttr:function(a){if(this._started){var b=this.state;this.state=a;this._handleOnChange(b);switch(a){case "full":h.setWaiState(this.domNode,"expanded",!0);
a="onOpen";break;case "collapsed":h.setWaiState(this.domNode,"expanded",!0);a="onCollapsed";break;default:h.setWaiState(this.domNode,"expanded",!1),a="onClosed"}this[a](this.child)}},onOpen:function(){},onCollapsed:function(){},onClosed:function(){}})});