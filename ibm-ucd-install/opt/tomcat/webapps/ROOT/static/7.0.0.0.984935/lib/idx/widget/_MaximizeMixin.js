//>>built
define("idx/widget/_MaximizeMixin","dojo/_base/declare,dojo/_base/lang,dojo/dom-construct,dojo/dom-style,dojo/dom-attr,dojo/dom-geometry,dojo/_base/fx,dijit/focus,dijit/_base/focus,../util".split(","),function(p,q,f,b,h,i,j,k,l,r){return p("idx.widget._MaximizeMixin",null,{useAnimation:!1,duration:500,inPlace:!1,_placeHolder:null,_maximizedItem:null,_anchor:null,maximize:function(a,d){if(a!=this._maximizedItem){this._maximizedItem&&this.restore();var g=i.position(d),e=i.position(a),s=l.getFocus();
if(!this.inPlace){if(!this._placeHolder)this._placeHolder=f.create("DIV");if(!this._anchor)this._anchor=f.create("DIV"),b.set(this._anchor,"position","relative"),b.set(this._anchor,"zIndex",99999);f.place(this._placeHolder,a,"before");f.place(this._anchor,d.firstChild,"before");f.place(a,this._anchor,"last")}this._useCSSText=!1;var c=h.get(a,"style");if(c&&"object"==typeof c)this._useCSSText=!0,c=c.cssText;this._cachedOriginalStyle=c;b.set(a,"position","absolute");this.inPlace&&b.set(a,"zIndex",99999);
var c=b.get(d,"width"),m=b.get(d,"height");if(this.useAnimation){var n=e.y-g.y,g=e.x-g.x,o=e.w,e=e.h;this._restoreBox={t:n,l:g,w:o,h:e};j.animateProperty({node:a,duration:this.duration,properties:{top:{start:n,end:0,unit:"px"},left:{start:g,end:0,unit:"px"},width:{start:o,end:c,unit:"px"},height:{start:e,end:m,unit:"px"}}}).play()}else b.set(a,"top",0),b.set(a,"left",0),b.set(a,"width",c+"px"),b.set(a,"height",m+"px");this._maximizedItem=a;k.focus(s)}},restore:function(){if(this._maximizedItem)if(this.useAnimation&&
this._restoreBox){var a=this._maximizedItem,d=b.get(a,"top"),g=b.get(a,"left"),e=b.get(a,"width"),f=b.get(a,"height"),c=this._restoreBox;j.animateProperty({node:a,duration:this.duration,properties:{top:{start:d,end:c.t,unit:"px"},left:{start:g,end:c.l,unit:"px"},width:{start:e,end:c.w,unit:"px"},height:{start:f,end:c.h,unit:"px"}},onEnd:q.hitch(this,this._restore)}).play()}else this._restore()},_restore:function(){if(this._maximizedItem){var a=l.getFocus();this.inPlace||f.place(this._maximizedItem,
this._placeHolder,"before");if(r.isWebKit){var d=this._maximizedItem;b.set(d,"position","");b.set(d,"top","");b.set(d,"left","");b.set(d,"width","");b.set(d,"height","")}else this._maximizedItem.removeAttribute("style");if(this._cachedOriginalStyle)this._useCSSText?this._maximizedItem.style.cssText=this._cachedOriginalStyle:h.set(this._maximizedItem,"style",this._cachedOriginalStyle);this.inPlace||(this._maximizedItem.parentNode.removeChild(this._placeHolder),this._anchor.parentNode.removeChild(this._anchor));
this._maximizedItem=null;k.focus(a)}}})});