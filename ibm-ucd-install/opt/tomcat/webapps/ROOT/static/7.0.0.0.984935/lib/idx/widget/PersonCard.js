//>>built
require({cache:{"url:idx/widget/templates/PersonCard.html":'<div class="idxPersonCard">\r\n\t<div dojoAttachPoint="containerNode" class="idxPersonCardContainer" tabindex="0"></div>\r\n</div>\r\n'}});
define("idx/widget/PersonCard","dojo/_base/declare,dojo/_base/lang,dojo/_base/array,dojo/_base/html,dojo/_base/xhr,dojo/io/script,dijit/_Widget,dijit/_TemplatedMixin,dojo/text!./templates/PersonCard.html".split(","),function(g,e,h,d,i,j,k,l,m){return g("idx.widget.PersonCard",[k,l],{baseClass:"idxPersonCard",templateString:m,url:"",jsonp:"",method:"POST",spec:"photo,fn,title,adr.work,tel.work,email.internet".split(","),query:null,value:null,placeHolder:"&nbsp;",_setQueryAttr:function(b){this.query=
b;this.containerNode.innerHTML="";if(b&&this.url)this._load=this._load||e.hitch(this,this._setValueAttr),this.jsonp?j.get({url:this.url,jsonp:this.jsonp,content:b,load:this._load}):this.method&&i(this.method,{url:this.url,content:b,load:this._load},"POST"==this.method.toUpperCase())},_setValueAttr:function(b){this.value=b;this.containerNode.innerHTML="";b&&this.spec&&h.forEach(this.spec,function(a){this.render(a,b)},this)},render:function(b,a){var c=b.split(".")[0],f=this.baseClass+c.charAt(0).toUpperCase()+
c.substring(1);"photo"==b?(c=e.getObject("fn",!1,a)||"",a=e.getObject(b,!1,a),d.create("img",{src:a,"class":f,alt:c},this.containerNode)):"email.internet"==b?(a=e.getObject(b,!1,a),d.create("a",{href:"mailto:"+a,innerHTML:a},d.create("div",{"class":f},this.containerNode))):"sametime.awareness"==b?window&&window.sametime_loadAwareness?(a=e.getObject("email.internet",!1,a),d.create("a",{userId:a,"class":"awareness",innerHTML:"&nbsp;",href:"javascript:;",role:"link",wairole:"link"},d.create("div",{"class":f},
this.containerNode)),sametime_loadAwareness()):d.create("div",{"class":f,innerHTML:this.placeHolder},this.containerNode):(a=e.getObject(b,!1,a),"adr"==c?(c=a.locality||"",a.region&&(c&&(c+=", "),c+=a.region),a=c+" "+(a.country_name||"")):"fn"==c&&(c=a.substring(0,a.indexOf(",")),a=a.substring(a.indexOf(",")+1)+" "+c,a=a.replace(/^\s*/,"").replace(/\s*$/,"")),d.create("div",{innerHTML:a,"class":f},this.containerNode))}})});