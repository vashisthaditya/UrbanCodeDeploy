//>>built
define("idx/grid/_DataGridMixin",["dojo/_base/declare","dojo/_base/array","dojox/grid/Selection"],function(j,k,i){return j("idx.grid._DataGridMixin",null,{getCellByField:function(b){var a;k.some(this.layout.cells||[],function(e){return e.field==b?(a=e,!0):!1});return a},getSelectedItem:function(){var b,a=this.selection.selectedIndex;0<=a&&a<this.rowCount&&(b=this.getItem(a));return b},selectByAttribute:function(b,a){for(var e=this.selection,c=this.store,g=this.rowCount,f=0;f<g;f++){var d=this.getItem(f);
c.isItem(d)&&c.getValue(d,b)==a&&e.addToSelection(f)}},moveItem:function(b,a){if(a!==b){var e=this._by_idx[b];if(a<b)for(var c=b;c>a;c--)this._by_idx[c]=this._by_idx[c-1];else for(c=b;c<a;c++)this._by_idx[c]=this._by_idx[c+1];this._by_idx[a]=e}},moveUpSelectedRows:function(b){var a=i.prototype.getSelected.call(this.selection);if(a&&a.length){var e=a[0];if(e){var c=a[a.length-1],b=b?0-e:-1,g=this.selection.selectedIndex;this.edit.apply();this.selection.deselectAll();for(var f=a.length,d=0;d<f;d++){var h=
a[d];this.moveItem(h,h+b)}this.updateRows(e+b,c-(e+b)+1);for(d=0;d<f;d++)this.selection.addToSelection(a[d]+b);this.selection.addToSelection(g+b)}}},moveDownSelectedRows:function(b){var a=i.prototype.getSelected.call(this.selection);if(a&&a.length){var e=this.rowCount-1,c=a[a.length-1];if(!(0>c||c>=e)){var g=a[0],b=b?e-c:1,e=this.selection.selectedIndex;this.edit.apply();this.selection.deselectAll();for(var f=a.length,d=f-1;0<=d;d--){var h=a[d];this.moveItem(h,h+b)}this.updateRows(g,c+b-g+1);for(d=
0;d<f;d++)this.selection.addToSelection(a[d]+b);this.selection.addToSelection(e+b)}}}})});