//>>built
define("idx/form/_CssStateMixin",["dojo","dijit/dijit","dijit/_WidgetBase"],function(d,k,j){return d.declare("idx.form._CssStateMixin",[],{cssStateNodes:{},hovering:!1,active:!1,_applyAttributes:function(){j.prototype._applyAttributes.apply(this,arguments);d.forEach(["onmouseenter","onmouseleave","onmousedown"],function(a){this.connect(this.stateNode,a,"_cssMouseEvent")},this);d.forEach("disabled,readOnly,checked,selected,focused,state,hovering,active,required".split(","),function(a){this.watch(a,
d.hitch(this,"_setStateClass"))},this);for(var a in this.cssStateNodes)this._trackMouseState(this[a],this.cssStateNodes[a]);this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseenter":case "mouseover":this._set("hovering",!0);this._set("active",this._mouseDown);break;case "mouseleave":case "mouseout":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":this._set("active",!0);this._mouseDown=!0;var c=this.connect(d.body(),"onmouseup",function(){this._mouseDown=
!1;this._set("active",!1);this.disconnect(c)})}},_setStateClass:function(){var a=this._getModifiedClasses(this.oneuiBaseClass);this._applyStateClass(this.stateNode,a);a=this._getModifiedClasses(this.baseClass);this._applyStateClass(this.domNode,a)},_getModifiedClasses:function(a){function c(a){b=b.concat(d.map(b,function(c){return c+a}),"dijit"+a)}var b=a.split(" ");this.isLeftToRight()||c("Rtl");a="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&c(a);this.state&&c(this.state);
this.selected&&c("Selected");this.required&&c("Required");this.disabled?c("Disabled"):this.readOnly?c("ReadOnly"):this.active?c("Active"):this.hovering&&c("Hover");this.focused&&c("Focused");return b},_applyStateClass:function(a,c){var b={};d.forEach(a.className.split(" "),function(a){b[a]=!0});"_stateClasses"in a&&d.forEach(a._stateClasses,function(a){delete b[a]});d.forEach(c,function(a){b[a]=!0});var f=[],e;for(e in b)f.push(e);a.className=f.join(" ");a._stateClasses=c},_trackMouseState:function(a,
c){function b(){var b="disabled"in h&&h.disabled||"readonly"in h&&h.readonly;d.toggleClass(a,c+"Hover",f&&!e&&!b);d.toggleClass(a,c+"Active",e&&!b);d.toggleClass(a,c+"Focused",i&&!b)}var f=!1,e=!1,i=!1,h=this,g=d.hitch(this,"connect",a);g("onmouseenter",function(){f=!0;b()});g("onmouseleave",function(){e=f=!1;b()});g("onmousedown",function(){e=!0;b()});g("onmouseup",function(){e=!1;b()});g("onfocus",function(){i=!0;b()});g("onblur",function(){i=!1;b()});this.watch("disabled",b);this.watch("readOnly",
b)}})});