//>>built
define("idx/layout/ContentPane","dojo/_base/declare,dojo/_base/lang,dojo/when,dojo/ready,dojo/Deferred,dojo/_base/window,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/dom-construct,dojox/layout/ContentPane,dojox/html/_base,../util,../string".split(","),function(i,g,j,k,l,s,t,e,p,m,u,n,q,d){var r=function(a){var b=this,a=a.replace(/\./g,"/");require([a],function(){b._loadContent()})},o=i("idx.layout._ContentSetter",[n._ContentSetter],{contentPane:null,fakeContent:!1,content:null,handleParse:function(){this.parseContent&&
this._parse();return this.node},scriptsExecuted:function(){var a=this.contentPane,b=this;a._handleRequires(function(){k(function(){a._preParse();b.handleParse();j(a.parseDeferred,function(){a._postParse();b.scriptsDeferred.resolve()})})})},onEnd:function(){var a=this._code,b=this._styles;if(this._styleNodes&&this._styleNodes.length)for(;this._styleNodes.length;)m.destroy(this._styleNodes.pop());this.renderStyles&&b&&b.length&&this._renderStyles(b);if(this.executeScripts&&a){this.scriptsDeferred=new l;
a=a+"\n"+this.scriptHookReplacement+"._scriptsExecuted();";this.cleanContent&&(a=a.replace(/(<\!--|(?:\/\/)?--\>|<!\[CDATA\[|\]\]>)/g,""));this.scriptHasHooks&&(a=a.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement));try{n.evalInGlobal(a,this.node)}catch(c){this._onError("Exec","Error eval script in "+this.id+", "+c.message,c)}return this.scriptsDeferred.promise}var d=new l,f=this;k(function(){f.contentPane._deferResolve=!1;f.contentPane._preParse();f.handleParse();j(f.parseDeferred,function(){f.contentPane._postParse();
d.resolve()})});return d.promise},tearDown:function(){delete this.scriptsDeferred;this.inherited(arguments)}});return i("idx.layout.ContentPane",[dojox.layout.ContentPane],{contentClass:"",contentArgs:"",inferLabel:!0,label:"",scriptHasHooks:!0,_scriptsExecuted:function(){this._contentSetter&&this._contentSetter.scriptsExecuted()},_recordDependency:function(a){if(!this._requires)this._requires=["dojo/parser"];if(!this._modules)this._modules={"dojo/parser":null};a in this._modules||(this._requires.push(a),
this._modules[a]=null)},require:function(a){this._recordDependency(a.replace(/\./g,"/"))},requireLocalization:function(a,b){this._recordDependency("dojo/i18n!"+a.replace(/\./g,"/")+"/nls/"+b)},registerPreParse:function(a){if(a){if(!this._preParses)this._preParses=[];this._preParses.push(a)}},_preParse:function(){if(this._preParses){for(var a=0;a<this._preParses.length;a++)this._preParses[a].call(null,this._modules);delete this._preParses;this._preParses=null}},registerPostParse:function(a){if(a){if(!this._postParses)this._postParses=
[];this._postParses.push(a)}},_postParse:function(){if(this._postParses){for(var a=0;a<this._postParses.length;a++)this._postParses[a].call(null,this._modules);delete this._postParses;this._postParses=null}this._deferResolve=!1;this._requires&&delete this._requires;this._modules&&delete this._modules;this._modules=this._requires=null},_handleRequires:function(a){if(!this._modules)this._modules={"dojo/parser":null};if(!this._requires)this._requires=["dojo/parser"];var b=this;require(this._requires,
function(){for(var c=0;c<b._requires.length;c++)b._modules[b._requires[c]]=arguments[c];a&&a.call(null,b._modules)})},_onLoadHandler:function(a){if(!this._deferResolve&&!this._resolved)this._resolved=!0,this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);p.add(this.domNode,"idxContentPane")},_setInferLabelAttr:function(a){this.value=a;if(a!=a)if(this.value){var b=d.nullTrim(this.title);b&&!this._explicitLabel&&this._inferLabel()}else d.nullTrim(this.label)==b&&!this._explicitLabel&&
this.set("label","")},_setTitleAttr:function(a){this.title=a;if(this.titleNode)this.titleNode.innerHTML=this.title;this.inferLabel&&!this._explicitLabel&&d.nullTrim(a)&&this._inferLabel()},_inferLabel:function(){this._inferringLabel=!0;this.set("label",this.title);this._inferringLabel=!1},_updateLabel:function(a,b){if(a&&!b){var c=e.get(this.domNode,"aria-label");c==a&&e.remove(this.domNode,"aria-label")}else if(!a&&b){var h=d.nullTrim(e.get(this.domNode,"aria-labelledby")),f=d.nullTrim(e.get(this.domNode,
"role")),c=d.nullTrim(e.get(this.domNode,"aria-label"));f&&!h&&!c&&e.set(this.domNode,"aria-label",b)}else h=d.nullTrim(e.get(this.domNode,"aria-labelledby")),f=d.nullTrim(e.get(this.domNode,"role")),c=d.nullTrim(e.get(this.domNode,"aria-label")),f&&!h&&c==a&&e.set(this.domNode,"aria-label",b)},_setLabelAttr:function(a){this._explicitLabel=this._inferringLabel&&a===this.title?!1:!0;var b=d.nullTrim(this.label),c=d.nullTrim(a);this.label=a;b!=c&&this._updateLabel(b,c)},startup:function(){this.inherited(arguments);
if(this._labelUpdates){for(var a=0;a<this._labelUpdates;a++){var b=this._labelUpdates[a];this._updateLabel(b.oldValue,b.label)}delete this._labelUpdates}},_setContent:function(a,b){if(this.href){var c=this._contentSetter;if(!(c&&c instanceof o))c=this._contentSetter=new o({contentPane:this,node:this.containerNode,_onError:g.hitch(this,this._onError),onContentError:g.hitch(this,function(a){a=this.onContentError(a);try{this.containerNode.innerHTML=a}catch(b){console.error("Fatal "+this.id+" could not change content due to "+
b.message,b)}})});c.set("fakeContent",b);c.set("content",a);this._deferResolve=!0;this._resolved=!1}this.inherited("_setContent",arguments)},_onShow:function(){this.inherited(arguments);if(this._contentWidget)this._contentWidget._onShow&&this._contentWidget._onShow();else if(this.contentClass){var a=this;setTimeout(function(){r.apply(a,[a.contentClass])},0)}},_loadContent:function(){var a=g.getObject(this.contentClass),b=this.contentArgs;g.isString(b)&&(b=q.fromJson("{"+b+"}"));b.container=this;this._contentWidget=
new a(b);this.contentCreate&&"function"==typeof this.contentCreate&&this.contentCreate(this._contentWidget);m.place(this._contentWidget.domNode,this.domNode);this._contentWidget.startup();this._layoutChildren()}})});